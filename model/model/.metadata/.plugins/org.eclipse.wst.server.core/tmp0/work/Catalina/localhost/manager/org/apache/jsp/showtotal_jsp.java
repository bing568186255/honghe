/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.78
 * Generated at: 2018-07-10 10:41:49 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class showtotal_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(4);
    _jspx_dependants.put("/WEB-INF/tlds/fn.tld", Long.valueOf(1384075604000L));
    _jspx_dependants.put("/backglobal.jsp", Long.valueOf(1527385603000L));
    _jspx_dependants.put("/global.jsp", Long.valueOf(1531186298000L));
    _jspx_dependants.put("/WEB-INF/tlds/c.tld", Long.valueOf(1384075546000L));
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n");
      out.write("\r\n");
      out.write("    \r\n");
      out.write("\r\n");
      out.write("    \r\n");
      out.write("    \r\n");
      out.write("\r\n");
      if (_jspx_meth_c_005fset_005f0(_jspx_page_context))
        return;
      out.write('\r');
      out.write('\n');
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery-ui.min.css\" />\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"css/global.css\" />\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"css/combox.css\" />\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery-ui-timepicker-addon.css\" />\r\n");
      out.write("<script type=text/javascript src=\"js/jquery-1.9.1.min.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/jquery.form.min.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/jquery-ui.min.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/common.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/globalize.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/globalize.culture.de-DE.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/combox.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/jquery-ui-timepicker-addon.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/jquery.ui.datepicker-zh-CN.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/jquery-ui-timepicker-zh-CN.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=text/javascript src=\"modules/modules.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/Tdrag.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"modules/button/button.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"modules/labelinput/labelinput.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"modules/dialog/dialog.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/messagebox.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"css/SimpleGrid.css\" />\r\n");
      out.write("<script type=text/javascript src=\"js/SimpleGrid.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=text/javascript src=\"js/amapinit.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("var g_largeType=[\r\n");
      out.write("    \"教育\",\"医疗\",\"商业\",\"公共服务\",\"交通\",\"行政办公\",\"其他\"\r\n");
      out.write("];\r\n");
      out.write("var g_unitType=[\r\n");
      out.write("\t[\r\n");
      out.write("\t \"托儿所\",\"小学\",\"初中\",\"高中\",\"中专大专\",\"高等院校\",\"其他\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"综合医院\",\"专科医院\",\"卫生服务中心\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"体育活动中心\",\"社区文化站\",\"社区健身场\",\"综合超市\",\"大型购物中心\",\"社区肉菜市场\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"青少年活动中心\",\"敬老院\",\"老年人活动站\",\"社区文娱中心\",\"社区警务室\",\"社区服务站\",\"图书馆\",\"网络通信服务\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"地铁站\",\"公交站\",\"火车站\",\"飞机场\",\"长途客运站\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"党政机关\",\"公安局\",\"街道办事处\",\"街道派出所\",\"社区居委会\",\"社区服务中心\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"绿地\",\"危险品仓库\",\"垃圾焚烧厂\",\"垃圾填埋厂\",\"高压变电站\",\"加油加气站\"\r\n");
      out.write("\t]\r\n");
      out.write("];\r\n");
      out.write("var g_unitCategory=[\r\n");
      out.write("\t[\r\n");
      out.write("\t \"A3\",\"A3\",\"A3\",\"A3\",\"A3\",\"A3\",\"A3\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"A5\",\"A5\",\"A5\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"A4\",\"A2\",\"A6\",\"B1\",\"B1\",\"B9\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"A6\",\"A6\",\"A6\",\"A6\",\"A1\",\"A1\",\"A1\",\"B4\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"B9\",\"B9\",\"B9\",\"B9\",\"B9\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"A1\",\"A1\",\"A1\",\"A1\",\"A1\",\"A6\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"G1\",\"M\",\"B9\",\"B9\",\"A\",\"W\"\r\n");
      out.write("\t]\r\n");
      out.write("];\r\n");
      out.write("var typeColors=[\r\n");
      out.write("\t{type:'R',name:'居住用地',colorno: 50},\r\n");
      out.write("\t{type:'R1',name:'一类居住有地',colorno: 51},\r\n");
      out.write("\t{type:'R2',name:'二类居住有地',colorno: 50},\r\n");
      out.write("\t{type:'R3',name:'三类居住有地',colorno: 40},\r\n");
      out.write("\t{type:'A',name:'公共管理与公共服务用地',colorno: 231},\r\n");
      out.write("\t{type:'A1',name:'行政办公用地',colorno: 231},\r\n");
      out.write("\t{type:'A2',name:'文化设施用地',colorno: 241},\r\n");
      out.write("\t{type:'A3',name:'教育科研用地',colorno: 21},\r\n");
      out.write("\t{type:'A4',name:'体育用地',colorno: 62},\r\n");
      out.write("\t{type:'A5',name:'医疗卫生用地',colorno: 11},\r\n");
      out.write("\t{type:'A6',name:'社会福利设施用地',colorno: 243},\r\n");
      out.write("\t{type:'A7',name:'文物古迹用地',colorno: 244},\r\n");
      out.write("\t{type:'A8',name:'外事用地',colorno: 230},\r\n");
      out.write("\t{type:'A9',name:'宗教设施用地',colorno: 232},\r\n");
      out.write("\t{type:'B',name:'商业服务业设施用地',colorno: 240},\r\n");
      out.write("\t{type:'B1',name:'商业设施用地',colorno: 240},\r\n");
      out.write("\t{type:'B2',name:'商务设施用地',colorno: 240},\r\n");
      out.write("\t{type:'B3',name:'娱乐康体用地',colorno: 240},\r\n");
      out.write("\t{type:'B4',name:'公用设施营业网点用地',colorno: 240},\r\n");
      out.write("\t{type:'B9',name:'其它服务设施用地',colorno: 240},\r\n");
      out.write("\t{type:'M',name:'工业用地',colorno: 35},\r\n");
      out.write("\t{type:'M1',name:'一类工业用地',colorno: 35},\r\n");
      out.write("\t{type:'M2',name:'二类工业用地',colorno: 37},\r\n");
      out.write("\t{type:'M3',name:'三类工业用地',colorno: 39},\r\n");
      out.write("\t{type:'W',name:'物流仓储用地',colorno: 193},\r\n");
      out.write("\t{type:'W1',name:'一类物流仓储用地',colorno: 193},\r\n");
      out.write("\t{type:'W2',name:'二类物流仓储用地',colorno: 195},\r\n");
      out.write("\t{type:'W3',name:'三类物流仓储用地',colorno: 197},\r\n");
      out.write("\t{type:'S',name:'交通设施用地',colorno: 8},\r\n");
      out.write("\t{type:'S1',name:'城市道路用地',colorno: 8},\r\n");
      out.write("\t{type:'S2',name:'轨道交通线路用地',colorno: 8},\r\n");
      out.write("\t{type:'S3',name:'综合交通枢纽用地',colorno: 8},\r\n");
      out.write("\t{type:'S4',name:'交通场站用地',colorno: 8},\r\n");
      out.write("\t{type:'S9',name:'其它交通设施用地',colorno: 8},\r\n");
      out.write("\t{type:'U',name:'公用设施用地',colorno: 154},\r\n");
      out.write("\t{type:'U1',name:'供应设施用地',colorno: 154},\r\n");
      out.write("\t{type:'U2',name:'环境设施用地',colorno: 136},\r\n");
      out.write("\t{type:'U3',name:'安全设施用地',colorno: 144},\r\n");
      out.write("\t{type:'U9',name:'其它公用设施用地',colorno: 147},\r\n");
      out.write("\t{type:'G',name:'绿地',colorno:90},\r\n");
      out.write("\t{type:'G1',name:'公园绿地',colorno:90},\r\n");
      out.write("\t{type:'G2',name:'防护绿地',colorno:104},\r\n");
      out.write("\t{type:'G3',name:'广场用地',colorno:93},\r\n");
      out.write("\t{type:'H1',name:'城乡居民点建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H11',name:'城市建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H12',name:'镇建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H13',name:'乡建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H14',name:'村庄建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H15',name:'独立建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H2',name:'区域交通设施用地',colorno: 9},\r\n");
      out.write("\t{type:'H21',name:'铁路用地',colorno: 9},\r\n");
      out.write("\t{type:'H22',name:'公路用地',colorno: 9},\r\n");
      out.write("\t{type:'H23',name:'港口用地',colorno: 9},\r\n");
      out.write("\t{type:'H24',name:'机场用地',colorno: 9},\r\n");
      out.write("\t{type:'H25',name:'管道运输用地',colorno: 9},\r\n");
      out.write("\t{type:'H3',name:'区域公用设施用地',colorno: 156},\r\n");
      out.write("\t{type:'H4',name:'特殊用地',colorno:87},\r\n");
      out.write("\t{type:'H41',name:'军事用地',colorno:87},\r\n");
      out.write("\t{type:'H42',name:'安保用地',colorno:87},\r\n");
      out.write("\t{type:'H5',name:'采矿用地',colorno: 34},\r\n");
      out.write("\t{type:'E1',name:'水域',colorno:140},\r\n");
      out.write("\t{type:'E11',name:'自然水域',colorno:132},\r\n");
      out.write("\t{type:'E12',name:'水库',colorno:140},\r\n");
      out.write("\t{type:'E13',name:'坑塘沟渠',colorno:130},\r\n");
      out.write("\t{type:'E2',name:'农林用地',colorno: 82},\r\n");
      out.write("\t{type:'E3',name:'其它非建设用地',colorno:53},\r\n");
      out.write("\t{type:'E31',name:'空闲地',colorno:53},\r\n");
      out.write("\t{type:'E32',name:'其它非利用地',colorno:55}\r\n");
      out.write("];\r\n");
      out.write("\r\n");
      out.write("var colorIndexes=[\r\n");
      out.write("\t[0,0,0],[255,0,0],[255,255,0],[0,255,0],[0,255,255],[0,0,255],[255,0,255],[255,255,255],\r\n");
      out.write("\t[128,128,128],[192,192,192],[255,0,0],[255,127,127],[204,0,0],[204,102,102],[153,0,0],[153,76,76],\r\n");
      out.write("\t[127,0,0],[127,63,63],[76,0,0],[76,38,38],[255,63,0],[255,159,127],[204,51,0],[204,127,102],\r\n");
      out.write("\t[153,38,0],[153,95,76],[127,31,0],[127,79,63],[76,19,0],[76,47,38],[255,127,0],[255,191,127],\r\n");
      out.write("\t[204,102,0],[204,153,102],[153,76,0],[153,114,76],[127,63,0],[127,95,63],[76,38,0],[76,57,38],\r\n");
      out.write("\t[255,191,0],[255,223,127],[204,153,0],[204,178,102],[153,114,0],[153,133,76],[127,95,0],[127,111,63],\r\n");
      out.write("\t[76,57,0],[76,66,38],[255,255,0],[255,255,127],[204,204,0],[204,204,102],[153,153,0],[153,153,76],\r\n");
      out.write("\t[127,127,0],[127,127,63],[76,76,0],[76,76,38],[191,255,0],[223,255,127],[153,204,0],[178,204,102],\r\n");
      out.write("\t[114,153,0],[133,153,76],[95,127,0],[111,127,63],[57,76,0],[66,76,38],[127,255,0],[191,255,127],\r\n");
      out.write("\t[102,204,0],[153,204,102],[76,153,0],[114,153,76],[63,127,0],[95,127,63],[38,76,0],[57,76,38],\r\n");
      out.write("\t[63,255,0],[159,255,127],[51,204,0],[127,204,102],[38,153,0],[95,153,76],[31,127,0],[79,127,63],\r\n");
      out.write("\t[19,76,0],[47,76,38],[0,255,0],[127,255,127],[0,204,0],[102,204,102],[0,153,0],[76,153,76],\r\n");
      out.write("\t[0,127,0],[63,127,63],[0,76,0],[38,76,38],[0,255,63],[127,255,159],[0,204,51],[102,204,127],\r\n");
      out.write("\t[0,153,38],[76,153,95],[0,127,31],[63,127,79],[0,76,19],[38,76,47],[0,255,127],[127,255,191],\r\n");
      out.write("\t[0,204,102],[102,204,153],[0,153,76],[76,153,114],[0,127,63],[63,127,95],[0,76,38],[38,76,57],\r\n");
      out.write("\t[0,255,191],[127,255,223],[0,204,153],[102,204,178],[0,153,114],[76,153,133],[0,127,95],[63,127,111],\r\n");
      out.write("\t[0,76,57],[38,76,66],[0,255,255],[127,255,255],[0,204,204],[102,204,204],[0,153,153],[76,153,153],\r\n");
      out.write("\t[0,127,127],[63,127,127],[0,76,76],[38,76,76],[0,191,255],[127,223,255],[0,153,204],[102,178,204],\r\n");
      out.write("\t[0,114,153],[76,133,153],[0,95,127],[63,111,127],[0,57,76],[38,66,76],[0,127,255],[127,191,255],\r\n");
      out.write("\t[0,102,204],[102,153,204],[0,76,153],[76,114,153],[0,63,127],[63,95,127],[0,38,76],[38,57,76],\r\n");
      out.write("\t[0,63,255],[127,159,255],[0,51,204],[102,127,204],[0,38,153],[76,95,153],[0,31,127],[63,79,127],\r\n");
      out.write("\t[0,19,76],[38,47,76],[0,0,255],[127,127,255],[0,0,204],[102,102,204],[0,0,153],[76,76,153],\r\n");
      out.write("\t[0,0,127],[63,63,127],[0,0,76],[38,38,76],[63,0,255],[159,127,255],[51,0,204],[127,102,204],\r\n");
      out.write("\t[38,0,153],[95,76,153],[31,0,127],[79,63,127],[19,0,76],[47,38,76],[127,0,255],[191,127,255],\r\n");
      out.write("\t[102,0,204],[153,102,204],[76,0,153],[114,76,153],[63,0,127],[95,63,127],[38,0,76],[57,38,76],\r\n");
      out.write("\t[191,0,255],[223,127,255],[153,0,204],[178,102,204],[114,0,153],[133,76,153],[95,0,127],[111,63,127],\r\n");
      out.write("\t[57,0,76],[66,38,76],[255,0,255],[255,127,255],[204,0,204],[204,102,204],[153,0,153],[153,76,153],\r\n");
      out.write("\t[127,0,127],[127,63,127],[76,0,76],[76,38,76],[255,0,191],[255,127,223],[204,0,153],[204,102,178],\r\n");
      out.write("\t[153,0,114],[153,76,133],[127,0,95],[127,63,111],[76,0,57],[76,38,66],[255,0,127],[255,127,191],\r\n");
      out.write("\t[204,0,102],[204,102,153],[153,0,76],[153,76,114],[127,0,63],[127,63,95],[76,0,38],[76,38,57],\r\n");
      out.write("\t[255,0,63],[255,127,159],[204,0,51],[204,102,127],[153,0,38],[153,76,95],[127,0,31],[127,63,79],\r\n");
      out.write("\t[76,0,19],[76,38,47],[51,51,51],[91,91,91],[132,132,132],[173,173,173],[214,214,214],[255,255,255]\r\n");
      out.write("];\r\n");
      out.write("function intToHexString(v,len){\r\n");
      out.write("\tvar ret = v.toString(16);\r\n");
      out.write("\tif (ret.length < len){\r\n");
      out.write("\t\tvar a = len - ret.length;\r\n");
      out.write("\t\tfor(var i=0;i<a;i++){\r\n");
      out.write("\t\t\tret = '0' + ret;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\treturn ret;\r\n");
      out.write("}\r\n");
      out.write("function getIndexColor(index){\r\n");
      out.write("    if (index < 0 || index >= colorIndexes.length){\r\n");
      out.write("    \treturn \"\";\r\n");
      out.write("    }\r\n");
      out.write("    var ret = '#';\r\n");
      out.write("    for(var i=0;i<3;i++){\r\n");
      out.write("    \tret += intToHexString(colorIndexes[index][i],2);\r\n");
      out.write("    }\r\n");
      out.write("    return ret;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var g_nodeNameMax=[20,24,20];\r\n");
      out.write("var g_nodeNameList={\r\n");
      out.write("\t\"xmkffw\": {\"name\": \"明确项目开发范围\", \"progress\": \"1\",\"index\":\"1\"},\r\n");
      out.write("\t\"xmcbys\": {\"name\": \"审核项目初步预算\", \"progress\": \"1\",\"index\":\"2\"},\r\n");
      out.write("\t\"shjcpw\": {\"name\": \"上会决策取得授权批文\", \"progress\": \"1\",\"index\":\"3\"},\r\n");
      out.write("\t\"kybzdwzb\": {\"name\": \"可研编制单位招标\", \"progress\": \"1\",\"index\":\"4\"},\r\n");
      out.write("\t\"tdkffa\": {\"name\": \"确定土地开发方案\", \"progress\": \"1\",\"index\":\"5\"},\r\n");
      out.write("\t\"kxxyjbg\": {\"name\": \"审核可行性研究报告\", \"progress\": \"1\",\"index\":\"6\"},\r\n");
      out.write("\t\"cwsh\": {\"name\": \"财务审核意见\", \"progress\": \"1\",\"index\":\"7\"},\r\n");
      out.write("\t\"rzsh\": {\"name\": \"融资部审核意见\", \"progress\": \"1\",\"index\":\"8\"},\r\n");
      out.write("\t\"xmsj\": {\"name\": \"项目审计意见\", \"progress\": \"1\",\"index\":\"9\"},\r\n");
      out.write("\t\"shjc\": {\"name\": \"上会决策\", \"progress\": \"1\",\"index\":\"10\"},\r\n");
      out.write("\t\"sfht\": {\"name\": \"三方合同拟定\", \"progress\": \"1\",\"index\":\"11\"},\r\n");
      out.write("\t\"htsh1\": {\"name\": \"合同审核\", \"progress\": \"1\",\"index\":\"12\"},\r\n");
      out.write("\t\"zfxs\": {\"name\": \"和属地政府协商\", \"progress\": \"1\",\"index\":\"13\"},\r\n");
      out.write("\t\"zjdw\": {\"name\": \"确认资金到位\", \"progress\": \"1\",\"index\":\"14\"},\r\n");
      out.write("\t\"gkzb\": {\"name\": \"公开招标\", \"progress\": \"1\",\"index\":\"15\"},\r\n");
      out.write("\t\"sfht\": {\"name\": \"四方合同拟定\", \"progress\": \"1\",\"index\":\"16\"},\r\n");
      out.write("\t\"htsh2\": {\"name\": \"合同审核\", \"progress\": \"1\",\"index\":\"17\"},\r\n");
      out.write("\t\"slggzh\": {\"name\": \"设立共管账户\", \"progress\": \"1\",\"index\":\"18\"},\r\n");
      out.write("\t\"ggxysh\": {\"name\": \"共管协议审核意见\", \"progress\": \"1\",\"index\":\"19\"},\r\n");
      out.write("\t\"qdggxy\": {\"name\": \"签订共管协议\", \"progress\": \"1\",\"index\":\"20\"},\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\"tdsskf\": {\"name\": \"土地实施开发\", \"progress\": \"2\",\"index\":\"1\"},\r\n");
      out.write("\t\"jsbzdwzb\": {\"name\": \"精算编制单位招标\", \"progress\": \"2\",\"index\":\"2\"},\r\n");
      out.write("\t\"tjjsbg\": {\"name\": \"提交精算报告\", \"progress\": \"2\",\"index\":\"3\"},\r\n");
      out.write("\t\"shjsbg\": {\"name\": \"审核项目精算报告\", \"progress\": \"2\",\"index\":\"4\"},\r\n");
      out.write("\t\"xmss\": {\"name\": \"发起项目实施\", \"progress\": \"2\",\"index\":\"5\"},\r\n");
      out.write("\t\"qdht1\": {\"name\": \"签订合同\", \"progress\": \"2\",\"index\":\"6\"},\r\n");
      out.write("\t\"cbbhtba\": {\"name\": \"成本部合同备案\", \"progress\": \"2\",\"index\":\"7\"},\r\n");
      out.write("\t\"qdht2\": {\"name\": \"签订合同\", \"progress\": \"2\",\"index\":\"8\"},\r\n");
      out.write("\t\"cwbsh\": {\"name\": \"财务部审核\", \"progress\": \"2\",\"index\":\"9\"},\r\n");
      out.write("\t\"cbbshht\": {\"name\": \"成本部审核合同\", \"progress\": \"2\",\"index\":\"10\"},\r\n");
      out.write("\t\"sdwjgd\": {\"name\": \"三调文件归档\", \"progress\": \"2\",\"index\":\"11\"},\r\n");
      out.write("\t\"zfdqpw\": {\"name\": \"政府动迁批文\", \"progress\": \"2\",\"index\":\"12\"},\r\n");
      out.write("\t\"bcfa\": {\"name\": \"补偿方案\", \"progress\": \"2\",\"index\":\"13\"},\r\n");
      out.write("\t\"cbkzbba1\": {\"name\": \"成本控制部备案\", \"progress\": \"2\",\"index\":\"14\"},\r\n");
      out.write("\t\"shfxpg\": {\"name\": \"社会风险评估\", \"progress\": \"2\",\"index\":\"15\"},\r\n");
      out.write("\t\"xhjsbg\": {\"name\": \"细化精算报告\", \"progress\": \"2\",\"index\":\"16\"},\r\n");
      out.write("\t\"jsbgsh\": {\"name\": \"精算报告审核\", \"progress\": \"2\",\"index\":\"17\"},\r\n");
      out.write("\t\"cqgg\": {\"name\": \"政府征地拆迁公告\", \"progress\": \"2\",\"index\":\"18\"},\r\n");
      out.write("\t\"cqgz\": {\"name\": \"开展征地拆迁工作\", \"progress\": \"2\",\"index\":\"19\"},\r\n");
      out.write("\t\"cbkzbba2\": {\"name\": \"成本控制部备案\", \"progress\": \"2\",\"index\":\"20\"},\r\n");
      out.write("\t\"tdzs\": {\"name\": \"土地征收\", \"progress\": \"2\",\"index\":\"21\"},\r\n");
      out.write("\t\"wtjs\": {\"name\": \"委托建设\", \"progress\": \"2\",\"index\":\"22\"},\r\n");
      out.write("\t\"cbsh\": {\"name\": \"成本审核\", \"progress\": \"2\",\"index\":\"23\"},\r\n");
      out.write("\t\"ztyjh\": {\"name\": \"召开专题研究会\", \"progress\": \"2\",\"index\":\"24\"},\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\"xmch\": {\"name\": \"项目策划\", \"progress\": \"3\",\"index\":\"1\"},\r\n");
      out.write("\t\"ghsh\": {\"name\": \"规划审核\", \"progress\": \"3\",\"index\":\"2\"},\r\n");
      out.write("\t\"fasj\": {\"name\": \"方案设计\", \"progress\": \"3\",\"index\":\"3\"},\r\n");
      out.write("\t\"wyhjy\": {\"name\": \"投资决策委员会决议\", \"progress\": \"3\",\"index\":\"4\"},\r\n");
      out.write("\t\"tzfa\": {\"name\": \"调整方案\", \"progress\": \"3\",\"index\":\"5\"},\r\n");
      out.write("\t\"fash1\": {\"name\": \"方案审核\", \"progress\": \"3\",\"index\":\"6\"},\r\n");
      out.write("\t\"sshjc\": {\"name\": \"上三会决策\", \"progress\": \"3\",\"index\":\"7\"},\r\n");
      out.write("\t\"tdlx\": {\"name\": \"项目立项\", \"progress\": \"3\",\"index\":\"8\"},\r\n");
      out.write("\t\"hqtdsyz\": {\"name\": \"获取土地使用证\", \"progress\": \"3\",\"index\":\"9\"},\r\n");
      out.write("\t\"bzkybg\": {\"name\": \"编制可研报告\", \"progress\": \"3\",\"index\":\"10\"},\r\n");
      out.write("\t\"shkybg\": {\"name\": \"审核可研报告\", \"progress\": \"3\",\"index\":\"11\"},\r\n");
      out.write("\t\"lxpf\": {\"name\": \"获取发改委立项批复\", \"progress\": \"3\",\"index\":\"12\"},\r\n");
      out.write("\t\"gszb\": {\"name\": \"专业公司招标\", \"progress\": \"3\",\"index\":\"13\"},\r\n");
      out.write("\t\"fatj\": {\"name\": \"方案提交\", \"progress\": \"3\",\"index\":\"14\"},\r\n");
      out.write("\t\"fash2\": {\"name\": \"方案审核\", \"progress\": \"3\",\"index\":\"15\"},\r\n");
      out.write("\t\"gcxk\": {\"name\": \"获取工程许可\", \"progress\": \"3\",\"index\":\"16\"},\r\n");
      out.write("\t\"gcsg\": {\"name\": \"工程施工\", \"progress\": \"3\",\"index\":\"17\"},\r\n");
      out.write("\t\"gcjs\": {\"name\": \"工程决算\", \"progress\": \"3\",\"index\":\"18\"},\r\n");
      out.write("\t\"gcsj\": {\"name\": \"工程审计报告备案\", \"progress\": \"3\",\"index\":\"19\"},\r\n");
      out.write("\t\"gcyj\": {\"name\": \"工程移交\", \"progress\": \"3\",\"index\":\"20\"}\r\n");
      out.write("};\r\n");
      out.write("function transNodeName(nodeName){\r\n");
      out.write("\tvar info = g_nodeNameList[nodeName];\r\n");
      out.write("\tif (null == info){\r\n");
      out.write("\t\treturn \"未知\";\r\n");
      out.write("\t}\r\n");
      out.write("\treturn info.name;\r\n");
      out.write("}\r\n");
      out.write("function getNodeNameList(progress){\r\n");
      out.write("\tvar ret = [];\r\n");
      out.write("\tfor(var key in g_nodeNameList){\r\n");
      out.write("\t\tvar value = g_nodeNameList[key];\r\n");
      out.write("\t\tif (progress == value.progress){\r\n");
      out.write("\t\t\tret.push(value.name);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\treturn ret;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("jQuery(function($){ \r\n");
      out.write("     $.datepicker.regional['zh-CN'] = {   \r\n");
      out.write("        clearText: '清除',   \r\n");
      out.write("        clearStatus: '清除已选日期',   \r\n");
      out.write("        closeText: '关闭',   \r\n");
      out.write("        closeStatus: '不改变当前选择',   \r\n");
      out.write("        prevText: '<上月',   \r\n");
      out.write("        prevStatus: '显示上月',   \r\n");
      out.write("        prevBigText: '<<',   \r\n");
      out.write("        prevBigStatus: '显示上一年',   \r\n");
      out.write("        nextText: '下月>',   \r\n");
      out.write("        nextStatus: '显示下月',   \r\n");
      out.write("        nextBigText: '>>',   \r\n");
      out.write("        nextBigStatus: '显示下一年',   \r\n");
      out.write("        currentText: '今天',   \r\n");
      out.write("        currentStatus: '显示本月',   \r\n");
      out.write("        monthNames: ['一月','二月','三月','四月','五月','六月', '七月','八月','九月','十月','十一月','十二月'],   \r\n");
      out.write("        monthNamesShort: ['一月','二月','三月','四月','五月','六月', '七月','八月','九月','十月','十一月','十二月'],   \r\n");
      out.write("        monthStatus: '选择月份',   \r\n");
      out.write("        yearStatus: '选择年份',   \r\n");
      out.write("        weekHeader: '周',   \r\n");
      out.write("        weekStatus: '年内周次',   \r\n");
      out.write("        dayNames: ['星期日','星期一','星期二','星期三','星期四','星期五','星期六'],   \r\n");
      out.write("        dayNamesShort: ['周日','周一','周二','周三','周四','周五','周六'],   \r\n");
      out.write("        dayNamesMin: ['日','一','二','三','四','五','六'],   \r\n");
      out.write("        dayStatus: '设置 DD 为一周起始',   \r\n");
      out.write("        dateStatus: '选择 m月 d日, DD',   \r\n");
      out.write("        dateFormat: 'yy-mm-dd',   \r\n");
      out.write("        firstDay: 1,   \r\n");
      out.write("        initStatus: '请选择日期', \r\n");
      out.write("        showMonthAfterYear: true,\r\n");
      out.write("        yearSuffix: '年',\r\n");
      out.write("        isRTL: false\r\n");
      out.write("    };   \r\n");
      out.write("    $.datepicker.setDefaults($.datepicker.regional['zh-CN']);\r\n");
      out.write("    Globalize.culture(\"de-DE\");\r\n");
      out.write("    \r\n");
      out.write("    $.widget( \"ui.timespinner\", $.ui.spinner, {\r\n");
      out.write("        options: {\r\n");
      out.write("          // seconds\r\n");
      out.write("          step: 60 * 1000,\r\n");
      out.write("          // hours\r\n");
      out.write("          page: 60\r\n");
      out.write("        },\r\n");
      out.write("        _parse: function( value ) {\r\n");
      out.write("          if ( typeof value === \"string\" ) {\r\n");
      out.write("            // already a timestamp\r\n");
      out.write("            if ( Number( value ) == value ) {\r\n");
      out.write("              return Number( value );\r\n");
      out.write("            }\r\n");
      out.write("            return +Globalize.parseDate( value );\r\n");
      out.write("          }\r\n");
      out.write("          return value;\r\n");
      out.write("        },\r\n");
      out.write("     \r\n");
      out.write("        _format: function( value ) {\r\n");
      out.write("        \treturn Globalize.format( new Date(value), \"t\" );\r\n");
      out.write("        }\r\n");
      out.write("      });    \r\n");
      out.write("});\r\n");
      out.write("</script>");
      out.write("\r\n");
      out.write("<title>全市项目展示</title>\r\n");
      out.write("\r\n");
      out.write("<style type=\"text/css\">\r\n");
      out.write("   \t#echart-stat{\r\n");
      out.write("   \t\tdisplay: none;\r\n");
      out.write("   \t\tposition: absolute;\r\n");
      out.write("   \t\tleft: 10px;\r\n");
      out.write("   \t\ttop: 60px;\r\n");
      out.write("   \t\twidth: 400px;\r\n");
      out.write("   \t\theight: 300px;\r\n");
      out.write("   \t\tbackground: #fff;\r\n");
      out.write("   \t\tz-index: 1;\r\n");
      out.write("   \t}\r\n");
      out.write("   \t#legend{\r\n");
      out.write("   \t\tdisplay: none;\r\n");
      out.write("   \t\tposition: absolute;\r\n");
      out.write("   \t\tleft: 10px;\r\n");
      out.write("   \t\tbottom: 10px;\r\n");
      out.write("   \t\twidth: 300px;\r\n");
      out.write("   \t\tbackground: #fff;\r\n");
      out.write("   \t\tz-index: 1;\r\n");
      out.write("   \t}\r\n");
      out.write("   \t#echart-detail{\r\n");
      out.write("   \t\tdisplay: none;\r\n");
      out.write("   \t\tposition: absolute;\r\n");
      out.write("   \t\tleft: 20%;\r\n");
      out.write("   \t\tright: 20%;\r\n");
      out.write("   \t\ttop: 100px;\r\n");
      out.write("   \t\theight: 400px;\r\n");
      out.write("   \t\tbackground: #fff;\r\n");
      out.write("   \t\tz-index: 1;\r\n");
      out.write("   \t\tborder: solid 1px #AAA;\r\n");
      out.write("   \t}\r\n");
      out.write("   \tdiv.echart-title{\r\n");
      out.write("   \t\tposition: relative;\r\n");
      out.write("   \t\tleft: 0px;\r\n");
      out.write("   \t\tright: 0px;\r\n");
      out.write("\t\ttext-align: right;\r\n");
      out.write("\t\theight: 25px;\r\n");
      out.write("\t\tpadding-right: 15px;\r\n");
      out.write("\t\tpadding-top: 5px;\r\n");
      out.write("   \t}\r\n");
      out.write("   \tdiv.echart-content,\r\n");
      out.write("   \tdiv.tb-content{\r\n");
      out.write("\t\twidth: 100%;\r\n");
      out.write("\t\theight: 370px;\r\n");
      out.write("   \t}\r\n");
      out.write("   \t#echart-stat div.echart-content{\r\n");
      out.write("   \t\theight: 270px;\r\n");
      out.write("   \t}\r\n");
      out.write("   \tdiv.areaname{\r\n");
      out.write("   \t\tcolor: #000;\r\n");
      out.write("   \t\topacity: 0.3;\r\n");
      out.write("   \t\tfont-weight: bold;\r\n");
      out.write("   \t}\r\n");
      out.write("   \t\r\n");
      out.write("   \t.listmenu{\r\n");
      out.write("\t    display: none;\r\n");
      out.write("\t    position: absolute;\r\n");
      out.write("\t    background: #353d43;\r\n");
      out.write("\t    color: #DDD;\r\n");
      out.write("\t    padding: 10px 0px;\r\n");
      out.write("\t    -webkit-border-radius: 8px;\r\n");
      out.write("\t    -moz-border-radius: 8px;\r\n");
      out.write("\t    -o-border-radius: 8px;\r\n");
      out.write("\t    border-radius: 8px;\r\n");
      out.write("\t    font-size: 16px;\r\n");
      out.write("   \t\tz-index: 8000;\r\n");
      out.write("   \t}\r\n");
      out.write("    .listmenu-item{\r\n");
      out.write("    \tcursor: pointer;\r\n");
      out.write("    \theight: 28px;\r\n");
      out.write("    }\r\n");
      out.write("    .listmenu-item.selected{\r\n");
      out.write("    \tbackground: #4795fe;\r\n");
      out.write("    }\r\n");
      out.write("    .listmenu-item td.name{\r\n");
      out.write("    \tpadding: 0px 35px;\r\n");
      out.write("    \ttext-align: center;\r\n");
      out.write("    }\r\n");
      out.write("   \t#selShowProject{\r\n");
      out.write("   \t\tposition: absolute;\r\n");
      out.write("   \t\tright: 10px;\r\n");
      out.write("   \t\ttop: 80px;\r\n");
      out.write("   \t\tpadding: 2px 5px;\r\n");
      out.write("   \t\tz-index: 2000;\r\n");
      out.write("   \t\tdisplay: none;\r\n");
      out.write("   \t}\r\n");
      out.write("   \t#listProject{\r\n");
      out.write("\t    right: 50px;\r\n");
      out.write("\t    top: 110px;\r\n");
      out.write("    }\r\n");
      out.write("   \t#selShowStat{\r\n");
      out.write("   \t\tposition: absolute;\r\n");
      out.write("   \t\tleft: 10px;\r\n");
      out.write("   \t\ttop: 15px;\r\n");
      out.write("   \t\tpadding: 2px 5px;\r\n");
      out.write("   \t\tz-index: 2000;\r\n");
      out.write("   \t\tdisplay: none;\r\n");
      out.write("   \t}\r\n");
      out.write("   \t#listStat{\r\n");
      out.write("\t    left: 50px;\r\n");
      out.write("\t    top: 55px;\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    #legend div.legend-item{\r\n");
      out.write("    \theight: 20px;\r\n");
      out.write("    \tmargin: 10px 5px;\r\n");
      out.write("    }\r\n");
      out.write("    #legend div.legend-item div.float-left{\r\n");
      out.write("    \tfloat: left;\r\n");
      out.write("    }\r\n");
      out.write("    #legend div.legend-item div.float-right{\r\n");
      out.write("    \tfloat: right;\r\n");
      out.write("    }\r\n");
      out.write("    #legend div.legend-item div.legend{\r\n");
      out.write("    \twidth: 20px;\r\n");
      out.write("    \theight: 15px;\r\n");
      out.write("\t\tborder:1px solid #DDDDDD;\r\n");
      out.write("\t\tborder-radius: 4px;\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    div.infoline.anchor{\r\n");
      out.write("    \tcolor: blue;\r\n");
      out.write("    }\r\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("    <div id=\"container\" tabindex=\"1\" style=\"position:absolute;left:0px;right:0px;top:0px;bottom:0px;z-index:2;\"></div>\r\n");
      out.write("    <div id=\"selShowProject\"><img src=\"images/doclist.png\" style=\"width:32px;height:32px;\"/></div>\r\n");
      out.write("    <div id=\"listProject\" class=\"listmenu\">\r\n");
      out.write("\t\t<table>\r\n");
      out.write("\t\t\t<tr class=\"listmenu-item all selected\" projid=\"\">\r\n");
      out.write("\t\t\t\t<td class=\"icon\"><div class=\"selectedicon\"></div></td>\r\n");
      out.write("\t\t\t\t<td class=\"name\">所有项目</td>\r\n");
      out.write("\t\t\t</tr>\r\n");
      out.write("\t\t</table>\r\n");
      out.write("    </div>\r\n");
      out.write("    <div id=\"selShowStat\"><img src=\"images/bar.png\" style=\"width:32px;height:32px;\"/></div>\r\n");
      out.write("    <div id=\"listStat\" class=\"listmenu\">\r\n");
      out.write("\t\t<table>\r\n");
      out.write("\t\t\t<tr class=\"listmenu-item selected\" type=\"\">\r\n");
      out.write("\t\t\t\t<td class=\"icon\"><div class=\"selectedicon\"></div></td>\r\n");
      out.write("\t\t\t\t<td class=\"name\">不显示统计</td>\r\n");
      out.write("\t\t\t</tr>\r\n");
      out.write("\t\t\t<tr class=\"listmenu-item\" type=\"financing\">\r\n");
      out.write("\t\t\t\t<td class=\"icon\"><div class=\"selectedicon\"></div></td>\r\n");
      out.write("\t\t\t\t<td class=\"name\">融资统计图</td>\r\n");
      out.write("\t\t\t</tr>\r\n");
      out.write("\t\t\t<tr class=\"listmenu-item\" type=\"remove\">\r\n");
      out.write("\t\t\t\t<td class=\"icon\"><div class=\"selectedicon\"></div></td>\r\n");
      out.write("\t\t\t\t<td class=\"name\">项目拆迁量对比</td>\r\n");
      out.write("\t\t\t</tr>\r\n");
      out.write("\t\t\t<tr class=\"listmenu-item\" type=\"progress\">\r\n");
      out.write("\t\t\t\t<td class=\"icon\"><div class=\"selectedicon\"></div></td>\r\n");
      out.write("\t\t\t\t<td class=\"name\">前期进度对比</td>\r\n");
      out.write("\t\t\t</tr>\r\n");
      out.write("\t\t\t<tr class=\"listmenu-item\" type=\"expend\">\r\n");
      out.write("\t\t\t\t<td class=\"icon\"><div class=\"selectedicon\"></div></td>\r\n");
      out.write("\t\t\t\t<td class=\"name\">地块支出统计图</td>\r\n");
      out.write("\t\t\t</tr>\r\n");
      out.write("\t\t\t<tr class=\"listmenu-item\" type=\"massifremove\">\r\n");
      out.write("\t\t\t\t<td class=\"icon\"><div class=\"selectedicon\"></div></td>\r\n");
      out.write("\t\t\t\t<td class=\"name\">地块拆迁量对比</td>\r\n");
      out.write("\t\t\t</tr>\r\n");
      out.write("\t\t\t<tr class=\"listmenu-item\" type=\"massifprog\">\r\n");
      out.write("\t\t\t\t<td class=\"icon\"><div class=\"selectedicon\"></div></td>\r\n");
      out.write("\t\t\t\t<td class=\"name\">地块进度对比</td>\r\n");
      out.write("\t\t\t</tr>\r\n");
      out.write("\t\t</table>\r\n");
      out.write("    </div>\r\n");
      out.write("    <div id=\"echart-stat\">\r\n");
      out.write("    \t<div class='echart-title'><span class='close anchor' onclick='echartStatClose()'>x</span></div>\r\n");
      out.write("    \t<div class='echart-content'></div>\r\n");
      out.write("    </div>\r\n");
      out.write("    <div id=\"legend\">\r\n");
      out.write("    </div>\r\n");
      out.write("    <div id=\"echart-detail\">\r\n");
      out.write("    \t<div class='echart-title'><span class='close anchor' onclick='echartDetailClose()'>x</span></div>\r\n");
      out.write("    \t<div class='echart-content'></div>\r\n");
      out.write("    \t<div class='tb-content' style=\"display:none\"></div>\r\n");
      out.write("    </div>\r\n");
      out.write("</body>\r\n");
      out.write("\r\n");
      out.write("<script type=text/javascript src=\"js/echarts.min.js\"></script>\r\n");
      out.write("<script language=\"JavaScript\">\r\n");
      out.write("var g_areaPolygons = {};\r\n");
      out.write("var g_fitPolygons=[];\r\n");
      out.write("var g_massifPolygons = {};\r\n");
      out.write("var g_massifShow3D = true;\r\n");
      out.write("var delta3D=[0,0];//[-0.001,0.0025];\r\n");
      out.write("var g_echartStat = null;\r\n");
      out.write("var g_echartDetail = null;\r\n");
      out.write("var g_massifNames = [];\r\n");
      out.write("var g_cylinders = [];\r\n");
      out.write("var g_barMinHeight = 1200;\r\n");
      out.write("var g_barMaxHeight = 4000;\r\n");
      out.write("var g_facilities = [];\r\n");
      out.write("var g_housePrices=[];\r\n");
      out.write("\r\n");
      out.write("var g_curZoomLevel = 1;\r\n");
      out.write("var g_showSmallTextLevel = 13;\r\n");
      out.write("\r\n");
      out.write("$(function(){\r\n");
      out.write("\tamapinit({\r\n");
      out.write("\t\ttype:\"3D\",\r\n");
      out.write("\t\tshow:\"satelite\",\r\n");
      out.write("\t\tshowName: false,\r\n");
      out.write("\t\tdefaultSatellite: true,\r\n");
      out.write("\t\tdomIDName:\"container\",\r\n");
      out.write("\t\tcomplete:mapLoaded,\r\n");
      out.write("\t\textTool: [{'name':'周边配套','fun': showFacility, 'active': false} /*,\r\n");
      out.write("\t\t          {'name':'周边房价','fun': showHousePrice, 'active': false}*/]\r\n");
      out.write("\t});\r\n");
      out.write("\tinitShowClick();\r\n");
      out.write("\t$('body').click(function(){\r\n");
      out.write("\t\t$('div.listmenu').each(function(){\r\n");
      out.write("\t\t\tif (!$(this).is(\":hidden\")){\r\n");
      out.write("\t\t\t\t$(this).slideUp(500);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t});\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function initShowClick(){\r\n");
      out.write("\t$(\"#selShowProject\").click(function(e){\r\n");
      out.write("\t\tif ($('#listProject').is(\":hidden\")){\r\n");
      out.write("\t\t\t$('#listProject').slideDown(500);\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\t$('#listProject').slideUp(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\te.stopPropagation();\r\n");
      out.write("\t\treturn false;\r\n");
      out.write("\t});\r\n");
      out.write("\t$(\"#selShowStat\").click(function(e){\r\n");
      out.write("\t\tif ($('#listStat').is(\":hidden\")){\r\n");
      out.write("\t\t\t$('#listStat').slideDown(500);\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\t$('#listStat').slideUp(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\te.stopPropagation();\r\n");
      out.write("\t\treturn false;\r\n");
      out.write("\t});\r\n");
      out.write("\tsetStatSelect();\r\n");
      out.write("}\r\n");
      out.write("function setStatSelect(){\r\n");
      out.write("\t$('#listStat table tr.listmenu-item').click(function(e){\r\n");
      out.write("\t\t$('#listStat table tr.listmenu-item').removeClass('selected');\r\n");
      out.write("\t\t$(this).addClass('selected');\r\n");
      out.write("\t\tvar type= $(this).attr('type');\r\n");
      out.write("\t\tif ('' == type){\r\n");
      out.write("\t\t\t$('#echart-stat').hide();\r\n");
      out.write("\t\t\t$('#legend').hide();\r\n");
      out.write("\t\t\tfor(var i=0;i<g_cylinders.length;i++){\r\n");
      out.write("\t\t\t\tif (!!g_cylinders[i] && !!g_cylinders[i].textTop){\r\n");
      out.write("\t\t\t\t\tg_map.remove(g_cylinders[i].textTop);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tg_object3Dlayer.remove(g_cylinders[i]);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tg_cylinders = [];\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tshowStat(type);\r\n");
      out.write("\t\t\tg_map.setFitView(g_fitPolygons);\r\n");
      out.write("\t    \tvar level = g_map.getZoom()+0.5;\r\n");
      out.write("\t    \tg_map.setZoom(level);\r\n");
      out.write("\t    \tonZoomChange();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t$('#listStat').slideUp(500);\r\n");
      out.write("\t\te.stopPropagation();\r\n");
      out.write("\t\treturn false;\t\t\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("function setProjectSelect(){\r\n");
      out.write("\t$('#listProject table tr.listmenu-item').click(function(e){\r\n");
      out.write("\t\t$('#listProject table tr.listmenu-item').removeClass('selected');\r\n");
      out.write("\t\t$(this).addClass('selected');\r\n");
      out.write("\t\tvar projID= $(this).attr('projid');\r\n");
      out.write("\t\tif ('' == projID){\r\n");
      out.write("\t\t\tif (g_fitPolygons.length > 0){\r\n");
      out.write("\t\t    \tg_map.setFitView(g_fitPolygons);\r\n");
      out.write("\t\t    \tvar level = g_map.getZoom()+0.5;\r\n");
      out.write("\t\t    \tg_map.setZoom(level);\r\n");
      out.write("\t\t    \tonZoomChange();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tif (null != g_areaPolygons[projID]){\r\n");
      out.write("\t\t    \tg_map.setFitView(g_areaPolygons[projID]);\r\n");
      out.write("\t\t    \tvar level = g_map.getZoom()+0.5;\r\n");
      out.write("\t\t    \tg_map.setZoom(level);\r\n");
      out.write("\t\t    \tonZoomChange();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\te.stopPropagation();\r\n");
      out.write("\t\treturn false;\t\t\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function echartStatClose(){\r\n");
      out.write("\t$('#echart-stat').hide();\r\n");
      out.write("}\r\n");
      out.write("function echartDetailClose(){\r\n");
      out.write("\t$('#echart-detail').hide();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function mapLoaded(){\r\n");
      out.write("\t$('#selShowProject').show();\r\n");
      out.write("\t$('#selShowStat').show();\r\n");
      out.write("\t$('#echart-detail').show();\r\n");
      out.write("\t$('#echart-stat').show();\r\n");
      out.write("\tg_echartStat = echarts.init($('#echart-stat div.echart-content')[0]);\r\n");
      out.write("\tg_echartDetail = echarts.init($('#echart-detail div.echart-content')[0]);\r\n");
      out.write("\t\r\n");
      out.write("    g_map.on('zoomchange',function(){\r\n");
      out.write("    \tonZoomChange();\r\n");
      out.write("    });\r\n");
      out.write("\t\r\n");
      out.write("\tAMap.service('AMap.DistrictSearch', function() {\r\n");
      out.write("        var opts = {\r\n");
      out.write("            subdistrict: 0, \r\n");
      out.write("            extensions: 'all',  //返回行政区边界坐标组等具体信息\r\n");
      out.write("            level: 'city'  //查询行政级别为 市\r\n");
      out.write("        };\r\n");
      out.write("        //实例化DistrictSearch\r\n");
      out.write("        var district = new AMap.DistrictSearch(opts);\r\n");
      out.write("        //行政区查询\r\n");
      out.write("        district.search('昆明市', function(status, result) {\r\n");
      out.write("            var bounds = result.districtList[0].boundaries;\r\n");
      out.write("            if (bounds) {\r\n");
      out.write("                for (var i = 0, l = bounds.length; i < l; i++) {\r\n");
      out.write("                    //生成行政区划polygon\r\n");
      out.write("\t\t\t\t    var  polygon = new AMap.Polygon({\r\n");
      out.write("\t\t\t\t        path: bounds[i],\t\t\t//设置多边形边界路径\r\n");
      out.write("\t\t\t\t        strokeColor: \"#CC66CC\", //线颜色\r\n");
      out.write("\t\t\t\t        strokeOpacity: 0.5, \t//线透明度\r\n");
      out.write("\t\t\t\t        strokeWeight: 5,    \t//线宽\r\n");
      out.write("\t\t\t\t        fillColor: \"#000\", \t//填充色\r\n");
      out.write("\t\t\t\t        fillOpacity: 0,\t\t//填充透明度\r\n");
      out.write("\t\t\t\t        bubble: true\r\n");
      out.write("\t\t\t\t    });\r\n");
      out.write("\t\t\t\t    polygon.setMap(g_map);\r\n");
      out.write("                }\r\n");
      out.write("                g_map.setFitView();//地图自适应\r\n");
      out.write("\t\t    \tvar level = g_map.getZoom()+0.5;\r\n");
      out.write("\t\t    \tg_map.setZoom(level);\r\n");
      out.write("\t\t    \tonZoomChange();\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            getAllArea();\r\n");
      out.write("        });\r\n");
      out.write("    });\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function onZoomChange(){\r\n");
      out.write("\tvar curLevel = g_map.getZoom();\r\n");
      out.write("\t//console.log('level'+curLevel);\r\n");
      out.write("\tif (curLevel < g_showSmallTextLevel && g_curZoomLevel>=g_showSmallTextLevel){\r\n");
      out.write("\t\tfor(var i=0;i< g_massifNames.length;i++){\r\n");
      out.write("\t\t\tg_massifNames[i].hide();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}else if (curLevel >= g_showSmallTextLevel && g_curZoomLevel < g_showSmallTextLevel){\r\n");
      out.write("\t\tfor(var i=0;i< g_massifNames.length;i++){\r\n");
      out.write("\t\t\tg_massifNames[i].show();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tg_curZoomLevel = curLevel;\r\n");
      out.write("\t\r\n");
      out.write("\t$('div.areaname').each(function(){\r\n");
      out.write("\t\tvar acreage = parseInt($(this).attr('acreage'));\r\n");
      out.write("\t\tvar size = (curLevel-8)*12;\r\n");
      out.write("\t\tif (size < 18)\r\n");
      out.write("\t\t\tsize = 18;\r\n");
      out.write("\t\telse if (size>40)\r\n");
      out.write("\t\t\tsize = 40;\r\n");
      out.write("\t\t/*\r\n");
      out.write("\t\tif (!isNaN(acreage) && acreage != 0){\r\n");
      out.write("\t\t\tsize *= acreage / 1000000;\r\n");
      out.write("\t\t\tconsole.log(size);\r\n");
      out.write("\t\t\tif (size < 18)\r\n");
      out.write("\t\t\t\tsize = 18;\r\n");
      out.write("\t\t\telse if (size>40)\r\n");
      out.write("\t\t\t\tsize = 40;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t*/\r\n");
      out.write("\t\t$(this).css('font-size',size + 'px');\r\n");
      out.write("\t});\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//读取所有项目信息和项目的地块信息，并显示\r\n");
      out.write("function getAllArea(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getArea',\r\n");
      out.write("\t\tdataType : 'json',\r\n");
      out.write("\t\ttimeout : 10000,\r\n");
      out.write("\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\tfor(var i=0;i<msg.rows.length;i++){\r\n");
      out.write("\t\t\t\t\t\tvar data = msg.rows[i];\r\n");
      out.write("\t\t\t\t\t\tshowAreaPolygon(data);\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tvar projectItem=[];\r\n");
      out.write("\t\t\t\t\t\tprojectItem.push('<tr class=\"listmenu-item nosel\" projid=');\r\n");
      out.write("\t\t\t\t\t\tprojectItem.push(data.cObjID);\r\n");
      out.write("\t\t\t\t\t\tprojectItem.push('>');\r\n");
      out.write("\t\t\t\t\t\tprojectItem.push('<td class=\"icon\"><div class=\"selectedicon\"></div></td>');\r\n");
      out.write("\t\t\t\t\t\tprojectItem.push('<td class=\"name\">');\r\n");
      out.write("\t\t\t\t\t\tprojectItem.push(data.cProjName);\r\n");
      out.write("\t\t\t\t\t\tprojectItem.push('</td>');\r\n");
      out.write("\t\t\t\t\t\tprojectItem.push('</tr>');\r\n");
      out.write("\t\t\t\t\t\t$('#listProject table').append(projectItem.join(''));\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\tg_map.setFitView(g_fitPolygons);\r\n");
      out.write("\t\t\t    \tvar level = g_map.getZoom()+0.5;\r\n");
      out.write("\t\t\t    \tg_map.setZoom(level);\r\n");
      out.write("\t\t\t    \tonZoomChange();\r\n");
      out.write("\r\n");
      out.write("\t\t\t    \tsetProjectSelect();\r\n");
      out.write("\t\t\t    \t\r\n");
      out.write("\t\t\t\t\tgetMassifs();\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror: function(){\r\n");
      out.write("\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//显示项目多边形\r\n");
      out.write("function showAreaPolygon(data){\r\n");
      out.write("    var strokeColor = \"#FF0000\"; //线颜色\r\n");
      out.write("    var strokeOpacity = 0.8; \t//线透明度\r\n");
      out.write("    var strokeWeight = 2;    \t//线宽\r\n");
      out.write("    var fillColor = \"#600\"; \t//填充色\r\n");
      out.write("    var fillOpacity = 0.6;\t\t//填充透明度\r\n");
      out.write("    if (null != g_object3Dlayer){\r\n");
      out.write("\t    fillOpacity = 0.3;\r\n");
      out.write("\t    //fillColor = \"transparent\";\r\n");
      out.write("    }\r\n");
      out.write("\tvar pts = eval('('+data.cPolygon+')');\r\n");
      out.write("\tvar center = getCenter(pts);\r\n");
      out.write("    if (null != g_object3Dlayer){\r\n");
      out.write("    \tcenter[0] += delta3D[0];\r\n");
      out.write("    \tcenter[1] += delta3D[1];\r\n");
      out.write("    }\r\n");
      out.write("    data[\"center\"] = center;\r\n");
      out.write("    var  polygon = new AMap.Polygon({\r\n");
      out.write("        path: pts,\t\t\t//设置多边形边界路径\r\n");
      out.write("        strokeColor: strokeColor, //线颜色\r\n");
      out.write("        strokeOpacity: strokeOpacity, \t//线透明度\r\n");
      out.write("        strokeWeight: strokeWeight,    \t//线宽\r\n");
      out.write("        fillColor: fillColor, \t//填充色\r\n");
      out.write("        fillOpacity: fillOpacity,\t\t//填充透明度\r\n");
      out.write("        bubble: true,\r\n");
      out.write("        extData: data\r\n");
      out.write("    });\r\n");
      out.write("    polygon.setMap(g_map);\r\n");
      out.write("    g_areaPolygons[data.cObjID]=polygon;\r\n");
      out.write("    g_fitPolygons.push(polygon);\r\n");
      out.write("\r\n");
      out.write("    //点击显示项目信息\r\n");
      out.write("    var ckFun = function(){\r\n");
      out.write("    \tvar info = this.getExtData();\r\n");
      out.write("\t\tvar html=[];\r\n");
      out.write("\t\thtml.push('<div class=\"infowindow\">'); \t\t\r\n");
      out.write("\t\thtml.push('<div class=\"infotitle\">'+info.cProjName+'</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">项目全称：');\r\n");
      out.write("\t\thtml.push(info.cFullName);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">用地性质：');\r\n");
      out.write("\t\thtml.push(info.cProperty);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">项目面积：');\r\n");
      out.write("\t\thtml.push(info.fAcreage+' 亩');\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">立项日期：');\r\n");
      out.write("\t\thtml.push(info.dtCreate);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">土地来源：');\r\n");
      out.write("\t\thtml.push(info.cSource);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">使用年限：');\r\n");
      out.write("\t\thtml.push(info.iYears+\" 年\");\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">计划投入：');\r\n");
      out.write("\t\thtml.push(info.iPlannedAmount+\" 万元\");\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">需要融资金额：');\r\n");
      out.write("\t\thtml.push(info.iFinancing+\" 万元\");\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\tif (null != info.financing){\r\n");
      out.write("\t\t\thtml.push('<div class=\"infoline anchor\" onclick=\"showFinancing(\\''+info.cObjID+'\\')\">已融资金额：');\r\n");
      out.write("\t\t\thtml.push(info.financing+\" 万元\");\r\n");
      out.write("\t\t\tif (info.iFinancing > 0){\r\n");
      out.write("\t\t\t\tvar per = info.financing*100.0 / info.iFinancing;\r\n");
      out.write("\t\t\t\thtml.push(\" (\"+per.toFixed(2)+\"%)\")\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\thtml.push('</div>');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">计划完成日期：');\r\n");
      out.write("\t\thtml.push(info.dtPlannedOver);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">投资来源：');\r\n");
      out.write("\t\thtml.push(info.iInvestment==0?'自投':'社会投资');\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">当前状态：');\r\n");
      out.write("\t\thtml.push(info.cStatus);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline anchor\" onclick=\"showNodeList(\\'1\\',\\''+info.cObjID+'\\')\">当前节点：');\r\n");
      out.write("\t\thtml.push(transNodeName(info.nodeName));\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\tif (null != info.abnormalCount){\r\n");
      out.write("\t\t\thtml.push('<div class=\"infoline anchor\" onclick=\"getAbnormal(\\'proj\\',\\''+info.cObjID+'\\')\">异常数量：');\r\n");
      out.write("\t\t\thtml.push(info.abnormalCount);\r\n");
      out.write("\t\t\thtml.push('</div>');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("    \tshowInfoWindow(info.center,html.join(''));\r\n");
      out.write("    };\r\n");
      out.write("    polygon.on('click',ckFun);\r\n");
      out.write("    polygon.on('rightclick',ckFun);\r\n");
      out.write("\r\n");
      out.write("    var acreage = parseInt(polygon.getArea());\r\n");
      out.write("    if (isNaN(acreage)) acreage = 0;\r\n");
      out.write("\tvar showName = new AMap.Text({\r\n");
      out.write("        text: '<div class=\"areaname\" acreage=\"'+acreage+'\">'+data.cProjName+'</div>',\r\n");
      out.write("        textAlign:'center', // 'left' 'right', 'center',\r\n");
      out.write("        verticalAlign:'middle', //middle 、bottom\r\n");
      out.write("        draggable:false,\r\n");
      out.write("        cursor:'pointer',\r\n");
      out.write("        style:{\r\n");
      out.write("            'background':'transparent',\r\n");
      out.write("\t           \t'border':'none',\r\n");
      out.write("            'padding':'0px 0px'\r\n");
      out.write("        },\r\n");
      out.write("        bubble: false,\r\n");
      out.write("        position: center\r\n");
      out.write("    });\r\n");
      out.write("    showName.setMap(g_map);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//读取所有地块信息\r\n");
      out.write("function getMassifs(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getMassif',\r\n");
      out.write("\t\tdataType : 'json',\r\n");
      out.write("\t\ttimeout : 10000,\r\n");
      out.write("\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\tfor(var i=0;i<msg.rows.length;i++){\r\n");
      out.write("\t\t\t\t\t\tvar data = msg.rows[i];\r\n");
      out.write("\t\t\t\t\t\tshowMassifPolygon(data);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror: function(){\r\n");
      out.write("\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//显示地块多边形\r\n");
      out.write("function showMassifPolygon(data){\r\n");
      out.write("    var strokeOpacity = 0.8; \t//线透明度\r\n");
      out.write("    var strokeWeight = 2;    \t//线宽\r\n");
      out.write("    var fillOpacity = 0.35;\t\t//填充透明度\r\n");
      out.write("    //如果显示3D，2D的多边形设为全透明，只为处理点击事件\r\n");
      out.write("    if (null != g_object3Dlayer && g_massifShow3D){\r\n");
      out.write("\t    strokeOpacity = 0;\r\n");
      out.write("\t    strokeWeight = 0;\r\n");
      out.write("\t    fillOpacity = 0;\r\n");
      out.write("    }    \r\n");
      out.write("\tvar pts = eval('('+data.cPolygon+')');\r\n");
      out.write("\tvar center = getCenter(pts);\r\n");
      out.write("    if (null != g_object3Dlayer){\r\n");
      out.write("    \tcenter[0] += delta3D[0];\r\n");
      out.write("    \tcenter[1] += delta3D[1];\r\n");
      out.write("    }\r\n");
      out.write("    data[\"center\"]=center;\r\n");
      out.write("    \r\n");
      out.write("    var color = '#000000';\r\n");
      out.write("    var type = data.cCategory;\r\n");
      out.write("    var colorIndex = 0;\r\n");
      out.write("\tfor(var t=0;t<typeColors.length;t++){\r\n");
      out.write("\t\tif (type == typeColors[t].type){\r\n");
      out.write("\t\t\tcolorIndex = typeColors[t].colorno;\r\n");
      out.write("\t\t\tbreak;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tif (colorIndex>0 && colorIndex < colorIndexes.length){\r\n");
      out.write("\t\tcolor = getIndexColor(colorIndex);\r\n");
      out.write("\t}\r\n");
      out.write("    var  polygon = new AMap.Polygon({\r\n");
      out.write("        path: pts,\t\t\t//设置多边形边界路径\r\n");
      out.write("        strokeColor: color, //线颜色\r\n");
      out.write("        strokeOpacity: strokeOpacity, \t//线透明度\r\n");
      out.write("        strokeWeight: strokeWeight,    \t//线宽\r\n");
      out.write("        fillColor: color, \t//填充色\r\n");
      out.write("        fillOpacity: fillOpacity,\t\t//填充透明度\r\n");
      out.write("        bubble: true,\r\n");
      out.write("        extData: data\r\n");
      out.write("    });\r\n");
      out.write("    polygon.setMap(g_map);\r\n");
      out.write("    if (null == g_massifPolygons[data.cProjID]){\r\n");
      out.write("    \tg_massifPolygons[data.cProjID] = {};\r\n");
      out.write("    }\r\n");
      out.write("    var projPolygons = g_massifPolygons[data.cProjID]; \r\n");
      out.write("    projPolygons[data.cObjID] = polygon;\r\n");
      out.write("    \r\n");
      out.write("    polygon.on('click',function(){\r\n");
      out.write("    \tvar info = this.getExtData();\r\n");
      out.write("\t\tvar html=[];\r\n");
      out.write("\t\thtml.push('<div class=\"infowindow\">'); \t\t\r\n");
      out.write("\t\thtml.push('<div class=\"infotitle\">'+info.cMassifName+'</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">地块用途：');\r\n");
      out.write("\t\thtml.push(info.cUsage);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">地块面积：');\r\n");
      out.write("\t\thtml.push(info.fAcreage+' 亩');\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\tif (null != info.cStyle && '' != info.cStyle){\r\n");
      out.write("\t\t\thtml.push('<div class=\"infoline\">规划样式：');\r\n");
      out.write("\t\t\thtml.push(info.cStyle);\r\n");
      out.write("\t\t\thtml.push('</div>');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">建筑密度：');\r\n");
      out.write("\t\thtml.push(info.fDensity);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">开始日期：');\r\n");
      out.write("\t\thtml.push(info.dtStart);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">容积率：');\r\n");
      out.write("\t\thtml.push(info.fVolRate);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\" onclick=\"showCoastDetail()\">计划投入：');\r\n");
      out.write("\t\thtml.push(info.iPlannedAmount+' 万元');\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\tif (null != info.expend){\r\n");
      out.write("\t\t\thtml.push('<div class=\"infoline anchor\" onclick=\"showExpend(\\''+info.cObjID+'\\')\">已投入金额：');\r\n");
      out.write("\t\t\thtml.push(info.expend+\" 万元\");\r\n");
      out.write("\t\t\tif (info.iPlannedAmount > 0){\r\n");
      out.write("\t\t\t\tvar per = info.expend*100.0 / info.iPlannedAmount;\r\n");
      out.write("\t\t\t\thtml.push(\" (\"+per.toFixed(2)+\"%)\")\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\thtml.push('</div>');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">拆迁进度：');\r\n");
      out.write("\t\thtml.push(info.iRemoved+'('+info.iNeedRemove+')');\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">供地日期：');\r\n");
      out.write("\t\thtml.push(info.dtSupply);\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\tif (null != info.fPrice && info.fPrice>0.01){\r\n");
      out.write("\t\t\thtml.push('<div class=\"infoline\">组价成本：');\r\n");
      out.write("\t\t\thtml.push(info.fPrice);\r\n");
      out.write("\t\t\thtml.push('</div>');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\thtml.push('<div class=\"infoline anchor\" onclick=\"showNodeList(\\'2\\',\\''+info.cObjID+'\\')\">当前节点：');\r\n");
      out.write("\t\thtml.push(transNodeName(info.nodeName));\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\tif (null != info.abnormalCount){\r\n");
      out.write("\t\t\thtml.push('<div class=\"infoline anchor\" onclick=\"getAbnormal(\\'massif\\',\\''+info.cObjID+'\\')\">异常数量：');\r\n");
      out.write("\t\t\thtml.push(info.abnormalCount);\r\n");
      out.write("\t\t\thtml.push('</div>');\r\n");
      out.write("\t\t}\t\thtml.push('</div>');\r\n");
      out.write("    \tshowInfoWindow(info.center,html.join(''));\r\n");
      out.write("    });\r\n");
      out.write("    polygon.on('rightclick',function(){});\r\n");
      out.write("    \r\n");
      out.write("\tvar showName = new AMap.Text({\r\n");
      out.write("        text: data.cMassifName,\r\n");
      out.write("        textAlign:'center', // 'left' 'right', 'center',\r\n");
      out.write("        verticalAlign:'middle', //middle 、bottom\r\n");
      out.write("        draggable:false,\r\n");
      out.write("        cursor:'pointer',\r\n");
      out.write("        style:{\r\n");
      out.write("            'background':'transparent',\r\n");
      out.write("\t           'border':'none',\r\n");
      out.write("\t           'color':'white',\r\n");
      out.write("            'padding':'0px 0px',\r\n");
      out.write("            'font-size': '8px'\r\n");
      out.write("        },\r\n");
      out.write("        bubble: false,\r\n");
      out.write("        position: center\r\n");
      out.write("    });\r\n");
      out.write("    showName.setMap(g_map);\r\n");
      out.write("    g_massifNames.push(showName);\r\n");
      out.write("    if (g_curZoomLevel < g_showSmallTextLevel){\r\n");
      out.write("    \tshowName.hide();\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    if (null != g_object3Dlayer && g_massifShow3D){\r\n");
      out.write("\t\tcolor += '88';\r\n");
      out.write("\t    var height = 200;\r\n");
      out.write("\t    var prism = new AMap.Object3D.Prism({\r\n");
      out.write("\t        path: pts,\r\n");
      out.write("\t        height: height,\r\n");
      out.write("\t        color: color\r\n");
      out.write("\t    });\r\n");
      out.write("\t    prism.transparent = true;\r\n");
      out.write("\t    g_object3Dlayer.add(prism);\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function showFinancing(projID){\r\n");
      out.write("\t$('#echart-detail').css('z-index','3000');\r\n");
      out.write("\t$('#echart-detail').show();\r\n");
      out.write("\tg_echartDetail.clear();\t\r\n");
      out.write("\t$('#echart-detail div.echart-content').show();\r\n");
      out.write("\t$('#echart-detail div.tb-content').hide();\r\n");
      out.write("\t\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=statFinancingMon',\r\n");
      out.write("\t\tdataType : 'json',\r\n");
      out.write("\t\tdata: {\"projid\": projID},\r\n");
      out.write("\t\ttimeout : 10000,\r\n");
      out.write("\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\tshowProjFinancingStat(msg.rows);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror: function(){\r\n");
      out.write("\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\t\r\n");
      out.write("}\r\n");
      out.write("function showProjFinancingStat(rows){\r\n");
      out.write("\tvar legends=[];\r\n");
      out.write("\tvar mons = [];\r\n");
      out.write("\tvar series = [];\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\tvar source = rows[i].cSource;\r\n");
      out.write("\t\tvar mon = rows[i].mon;\r\n");
      out.write("\t\tif ($.inArray(source,legends)<0){\r\n");
      out.write("\t\t\tlegends.push(source);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tif ($.inArray(mon,mons)<0){\r\n");
      out.write("\t\t\tmons.push(mon);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tfor(var i=0;i<legends.length;i++){\r\n");
      out.write("\t\tvar sery = {name: legends[i], type: 'bar', barMaxWidth: 30,stack: '融资额',data:[]};\r\n");
      out.write("\t\tfor(var j=0;j<mons.length;j++){\r\n");
      out.write("\t\t\tvar exists = false;\r\n");
      out.write("\t\t\tfor(var k=0;k<rows.length;k++){\r\n");
      out.write("\t\t\t\tif (rows[k].cSource == legends[i] && rows[k].mon==mons[j]){\r\n");
      out.write("\t\t\t\t\tsery.data.push(rows[k].amount);\r\n");
      out.write("\t\t\t\t\texists = true;\r\n");
      out.write("\t\t\t\t\tbreak;\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif (!exists){\r\n");
      out.write("\t\t\t\tsery.data.push(0);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tseries.push(sery);\r\n");
      out.write("\t}\r\n");
      out.write("\tvar option = {\r\n");
      out.write("\t    tooltip : {\r\n");
      out.write("\t        trigger: 'axis',\r\n");
      out.write("\t        axisPointer : {\r\n");
      out.write("\t            type : 'shadow'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    legend: {\r\n");
      out.write("\t        data: legends\r\n");
      out.write("\t    },\r\n");
      out.write("\t    grid: {\r\n");
      out.write("\t        left: '3%',\r\n");
      out.write("\t        right: '4%',\r\n");
      out.write("\t        bottom: '3%',\r\n");
      out.write("\t        containLabel: true\r\n");
      out.write("\t    },\r\n");
      out.write("\t    xAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'category',\r\n");
      out.write("\t            data : mons\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    yAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'value',\r\n");
      out.write("\t            name: '金额（万元）'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    series : series\r\n");
      out.write("\t};\r\n");
      out.write("\tg_echartDetail.clear();\t\r\n");
      out.write("\tg_echartDetail.setOption(option);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function showExpend(massifID){\r\n");
      out.write("\t$('#echart-detail').css('z-index','3000');\r\n");
      out.write("\t$('#echart-detail').show();\r\n");
      out.write("\tg_echartDetail.clear();\t\r\n");
      out.write("\t$('#echart-detail div.echart-content').show();\r\n");
      out.write("\t$('#echart-detail div.tb-content').hide();\r\n");
      out.write("\t\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getExpendMon',\r\n");
      out.write("\t\tdataType : 'json',\r\n");
      out.write("\t\tdata: {\"massifid\": massifID},\r\n");
      out.write("\t\ttimeout : 10000,\r\n");
      out.write("\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\tshowMassifExpendStat(msg.rows);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror: function(){\r\n");
      out.write("\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\t\r\n");
      out.write("}\r\n");
      out.write("function showMassifExpendStat(rows){\r\n");
      out.write("\tvar mons = [];\r\n");
      out.write("\tvar series = [{name: '支出额', type: 'bar', barMaxWidth: 30,data:[]}];\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\tmons.push(rows[i].mon);\r\n");
      out.write("\t\tseries[0].data.push(rows[i].amount);\r\n");
      out.write("\t}\r\n");
      out.write("\tvar option = {\r\n");
      out.write("\t    tooltip : {\r\n");
      out.write("\t        trigger: 'axis',\r\n");
      out.write("\t        axisPointer : {\r\n");
      out.write("\t            type : 'shadow'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    grid: {\r\n");
      out.write("\t        left: 30,\r\n");
      out.write("\t        right: 15,\r\n");
      out.write("\t        bottom: 10,\r\n");
      out.write("\t        containLabel: true\r\n");
      out.write("\t    },\r\n");
      out.write("\t    xAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'category',\r\n");
      out.write("\t            data : mons\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    yAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'value',\r\n");
      out.write("\t            name: '支出额（万元）'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    series : series\r\n");
      out.write("\t};\r\n");
      out.write("\tg_echartDetail.clear();\t\r\n");
      out.write("\tg_echartDetail.setOption(option);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//type=='1'前期; type=='2'地块实施\r\n");
      out.write("function showNodeList(type,id){\r\n");
      out.write("\t$('#echart-detail').css('z-index','3000');\r\n");
      out.write("\t$('#echart-detail').show();\r\n");
      out.write("\tg_echartDetail.clear();\t\r\n");
      out.write("\t$('#echart-detail div.echart-content').show();\r\n");
      out.write("\t$('#echart-detail div.tb-content').hide();\r\n");
      out.write("\tvar url =\"\";\r\n");
      out.write("\tvar data={};\r\n");
      out.write("\tif (type == \"1\"){\r\n");
      out.write("\t\turl = '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getProjectNodes';\r\n");
      out.write("\t\tdata = {\"projid\": id};\r\n");
      out.write("\t}else if (type==\"2\"){\r\n");
      out.write("\t\turl = '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getMassifNodes';\r\n");
      out.write("\t\tdata = {\"massifid\": id};\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t}\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\turl : url,\r\n");
      out.write("\t\tdataType : 'json',\r\n");
      out.write("\t\tdata: data,\r\n");
      out.write("\t\ttimeout : 10000,\r\n");
      out.write("\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\tshowNode(msg.rows,type);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror: function(){\r\n");
      out.write("\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\r\n");
      out.write("}\r\n");
      out.write("//type=='1'前期; type=='2'地块实施\r\n");
      out.write("function showNode(rows, type){\r\n");
      out.write("\tvar progress = getNodeNameList(type);\r\n");
      out.write("\tvar departs = ['战略发展部', '招标合同部', '财务部','置地中心'];\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\tvar dep = rows[i].cDepart;\r\n");
      out.write("\t\tif (null != dep && '' != dep){\r\n");
      out.write("\t\t\tif ($.inArray(dep,departs)<0){\r\n");
      out.write("\t\t\t\tdeparts.push(dep);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tvar data = [];\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\tvar pg = transNodeName(rows[i].cNodeName);\r\n");
      out.write("\t\tvar indexProgress = $.inArray(pg,progress);\r\n");
      out.write("\t\tvar indexDepart = $.inArray(rows[i].cDepart,departs);\r\n");
      out.write("\t\tif (indexProgress >= 0 && indexDepart>=0){\r\n");
      out.write("\t\t\tdata.push([indexProgress,indexDepart,rows[i].diffDays]);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tvar option = {\r\n");
      out.write("\t    tooltip: {\r\n");
      out.write("\t        position: 'top',\r\n");
      out.write("\t        formatter: function(params){\r\n");
      out.write("\t        \treturn params.seriesName+': ' + params.data[2];\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    legend:{\r\n");
      out.write("\t    \tshow:false\r\n");
      out.write("\t    },\r\n");
      out.write("\t    animation: false,\r\n");
      out.write("\t    grid: {\r\n");
      out.write("\t        height: '50%',\r\n");
      out.write("\t        y: '10%'\r\n");
      out.write("\t    },\r\n");
      out.write("\t    xAxis: {\r\n");
      out.write("\t        type: 'category',\r\n");
      out.write("\t        data: progress,\r\n");
      out.write("\t        splitArea: {\r\n");
      out.write("\t            show: true\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    yAxis: {\r\n");
      out.write("\t        type: 'category',\r\n");
      out.write("\t        data: departs,\r\n");
      out.write("\t        splitArea: {\r\n");
      out.write("\t            show: true\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    visualMap: {\r\n");
      out.write("\t    \tshow: true,\r\n");
      out.write("\t        min: 0,\r\n");
      out.write("\t        max: 5,\r\n");
      out.write("\t        calculable: false,\r\n");
      out.write("\t        orient: 'horizontal',\r\n");
      out.write("\t        left: 'center',\r\n");
      out.write("\t        bottom: '15%',\r\n");
      out.write("\t        inRange: {\r\n");
      out.write("\t        \tcolor: ['green', 'rgba(3,4,5,0.4)', 'red']\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    series: [{\r\n");
      out.write("\t        name: '计划相差天数',\r\n");
      out.write("\t        type: 'heatmap',\r\n");
      out.write("\t        data: data,\r\n");
      out.write("\t        label: {\r\n");
      out.write("\t            normal: {\r\n");
      out.write("\t                show: true\r\n");
      out.write("\t            }\r\n");
      out.write("\t        },\r\n");
      out.write("\t        itemStyle: {\r\n");
      out.write("\t            emphasis: {\r\n");
      out.write("\t                shadowBlur: 10,\r\n");
      out.write("\t                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n");
      out.write("\t            }\r\n");
      out.write("\t        }\r\n");
      out.write("\t    }]\r\n");
      out.write("\t};\r\n");
      out.write("\tg_echartDetail.clear();\t\r\n");
      out.write("\tg_echartDetail.setOption(option);\r\n");
      out.write("}\r\n");
      out.write("function getAbnormal(type,id){\r\n");
      out.write("\t$('#echart-detail').css('z-index','3000');\r\n");
      out.write("\t$('#echart-detail').show();\r\n");
      out.write("\t$('#echart-detail div.echart-content').hide();\r\n");
      out.write("\t$('#echart-detail div.tb-content').show().html('');\r\n");
      out.write("\tvar url=\"\";\r\n");
      out.write("\tvar data={};\r\n");
      out.write("\tif (type == 'proj'){\r\n");
      out.write("\t\turl = '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getProjectAbnormal';\r\n");
      out.write("\t\tdata = {\"projid\": id};\r\n");
      out.write("\t}else if (type == \"massif\"){\r\n");
      out.write("\t\turl = '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getMassifAbnormal';\r\n");
      out.write("\t\tdata = {\"massifid\": id};\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t}\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\turl : url,\r\n");
      out.write("\t\tdataType : 'json',\r\n");
      out.write("\t\tdata: data,\r\n");
      out.write("\t\ttimeout : 10000,\r\n");
      out.write("\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\tshowAbnormal(msg.rows);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror: function(){\r\n");
      out.write("\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\r\n");
      out.write("}\r\n");
      out.write("function showAbnormal(rows){\r\n");
      out.write("\tvar html=[];\r\n");
      out.write("\thtml.push('<table class=\"table-detail\">');\r\n");
      out.write("\thtml.push('<thead><tr><th>发生日期</th><th>异常信息</th><th>负责部门</th><th>处理结果</th></tr></thead>');\r\n");
      out.write("\thtml.push('<tbody>');\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\thtml.push('<tr><td>');\r\n");
      out.write("\t\thtml.push(rows[i].dtCreate);\r\n");
      out.write("\t\thtml.push('</td>');\r\n");
      out.write("\t\thtml.push('<td>');\r\n");
      out.write("\t\thtml.push(rows[i].cInfo);\r\n");
      out.write("\t\thtml.push('</td>');\r\n");
      out.write("\t\thtml.push('<td>');\r\n");
      out.write("\t\thtml.push(rows[i].cDepart);\r\n");
      out.write("\t\thtml.push('</td>');\r\n");
      out.write("\t\thtml.push('<td>');\r\n");
      out.write("\t\thtml.push(rows[i].cResult);\r\n");
      out.write("\t\thtml.push('</td></tr>');\r\n");
      out.write("\t}\r\n");
      out.write("\thtml.push('</tbody>');\r\n");
      out.write("\thtml.push('</table>');\r\n");
      out.write("\t$('#echart-detail div.tb-content').html(html.join(''));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function showStat(type){\r\n");
      out.write("\t$('#echart-stat').css('z-index','3000');\r\n");
      out.write("\t$('#echart-stat').show();\r\n");
      out.write("\tg_echartStat.clear();\t\r\n");
      out.write("\t$('#legend').css('z-index','3000');\r\n");
      out.write("\t$('#legend').show().html('');\r\n");
      out.write("\tfor(var i=0;i<g_cylinders.length;i++){\r\n");
      out.write("\t\tif (!!g_cylinders[i] && !!g_cylinders[i].textTop){\r\n");
      out.write("\t\t\tg_map.remove(g_cylinders[i].textTop);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tg_object3Dlayer.remove(g_cylinders[i]);\r\n");
      out.write("\t}\r\n");
      out.write("\tg_cylinders = [];\r\n");
      out.write("\r\n");
      out.write("\tif (type == \"financing\"){\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=statFinancing',\r\n");
      out.write("\t\t\tdataType : 'json',\r\n");
      out.write("\t\t\ttimeout : 10000,\r\n");
      out.write("\t\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\t\tshowFinancingStat(msg.rows);\r\n");
      out.write("\t\t\t\t\t\tshowFinancingCylinder(msg.rows);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror: function(){\r\n");
      out.write("\t\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\t\t\r\n");
      out.write("\t}else if (type == \"remove\"){\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=statRemove',\r\n");
      out.write("\t\t\tdataType : 'json',\r\n");
      out.write("\t\t\ttimeout : 10000,\r\n");
      out.write("\t\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\t\tshowRemoveStat(msg.rows);\r\n");
      out.write("\t\t\t\t\t\tshowRemoveCylinder(msg.rows);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror: function(){\r\n");
      out.write("\t\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\t\t\r\n");
      out.write("\t}else if (type == \"progress\"){\r\n");
      out.write("\t\tshowProgressStat();\r\n");
      out.write("\t}else if (type == \"expend\"){\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=statExpend',\r\n");
      out.write("\t\t\tdataType : 'json',\r\n");
      out.write("\t\t\ttimeout : 10000,\r\n");
      out.write("\t\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\t\tshowExpendStat(msg.rows);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror: function(){\r\n");
      out.write("\t\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\t\t\r\n");
      out.write("\t}else if (type == \"massifremove\"){\r\n");
      out.write("\t\tshowMassifRemoveStat();\r\n");
      out.write("\t}else if (type == \"massifprog\"){\r\n");
      out.write("\t\tshowMassifProgressStat();\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("function showFinancingStat(rows){\r\n");
      out.write("\tvar legends=[];\r\n");
      out.write("\tvar projNames = [];\r\n");
      out.write("\tvar series = [];\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\tvar source = rows[i].cSource;\r\n");
      out.write("\t\tvar projName = rows[i].cProjName;\r\n");
      out.write("\t\tif ($.inArray(source,legends)<0){\r\n");
      out.write("\t\t\tlegends.push(source);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tif ($.inArray(projName,projNames)<0){\r\n");
      out.write("\t\t\tprojNames.push(projName);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tfor(var i=0;i<legends.length;i++){\r\n");
      out.write("\t\tvar sery = {name: legends[i], type: 'bar', barMaxWidth: 30,stack: '融资额',data:[]};\r\n");
      out.write("\t\tfor(var j=0;j<projNames.length;j++){\r\n");
      out.write("\t\t\tvar exists = false;\r\n");
      out.write("\t\t\tfor(var k=0;k<rows.length;k++){\r\n");
      out.write("\t\t\t\tif (rows[k].cSource == legends[i] && rows[k].cProjName==projNames[j]){\r\n");
      out.write("\t\t\t\t\tsery.data.push(rows[k].totalAmount);\r\n");
      out.write("\t\t\t\t\texists = true;\r\n");
      out.write("\t\t\t\t\tbreak;\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif (!exists){\r\n");
      out.write("\t\t\t\tsery.data.push(0);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tseries.push(sery);\r\n");
      out.write("\t}\r\n");
      out.write("\tvar option = {\r\n");
      out.write("\t    tooltip : {\r\n");
      out.write("\t        trigger: 'axis',\r\n");
      out.write("\t        axisPointer : {\r\n");
      out.write("\t            type : 'shadow'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    legend: {\r\n");
      out.write("\t        data: legends\r\n");
      out.write("\t    },\r\n");
      out.write("\t    grid: {\r\n");
      out.write("\t        left: 30,\r\n");
      out.write("\t        right: 15,\r\n");
      out.write("\t        bottom: 10,\r\n");
      out.write("\t        containLabel: true\r\n");
      out.write("\t    },\r\n");
      out.write("\t    xAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'category',\r\n");
      out.write("\t            data : projNames\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    yAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'value',\r\n");
      out.write("\t            name: '金额（万元）'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    series : series\r\n");
      out.write("\t};\r\n");
      out.write("\tg_echartStat.clear();\t\r\n");
      out.write("\tg_echartStat.setOption(option);\r\n");
      out.write("}\r\n");
      out.write("function showFinancingCylinder(rows){\r\n");
      out.write("\tvar html=[];\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#F00\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">融资率小于30%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#00F\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">融资率在30%与70%之间</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#0F0\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">融资率大于70%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\t$('#legend').html(html.join(''));\r\n");
      out.write("\t\r\n");
      out.write("\tvar values = {};\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\tvar projID = rows[i].cProjID;\r\n");
      out.write("\t\tvar amount = values[projID];\r\n");
      out.write("\t\tif (null == amount)\r\n");
      out.write("\t\t\tamount = 0;\r\n");
      out.write("\t\tamount += rows[i].totalAmount;\r\n");
      out.write("\t\tvalues[projID] = amount;\r\n");
      out.write("\t}\r\n");
      out.write("\tfor(var key in values){\r\n");
      out.write("\t\tvar polygon = g_areaPolygons[key];\r\n");
      out.write("\t\tif (null == polygon)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar data = polygon.getExtData();\r\n");
      out.write("\t\tif (null == data)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar center = data.center;\r\n");
      out.write("\t\tif (null == center)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar planFinacing = data.iPlannedAmount;\r\n");
      out.write("\t\tvar amount = values[key];\r\n");
      out.write("\t\tvar k = 1;\r\n");
      out.write("\t\tif (planFinacing > 0.001){\r\n");
      out.write("\t\t\tk = amount / planFinacing;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tvar color = [0,0,1,0.8];\r\n");
      out.write("\t\tif (k < 0.3)\r\n");
      out.write("\t\t\tcolor = [1,0,0,0.8];\r\n");
      out.write("\t\telse if (k > 0.7)\r\n");
      out.write("\t\t\tcolor = [0,1,0,0.8];\t\t\r\n");
      out.write("\t\tvar height = k*(g_barMaxHeight - g_barMinHeight) + g_barMinHeight;\r\n");
      out.write("\t\tvar prism = addRegularPrism(center,4,height,1000,color, (k*100)+'%');\r\n");
      out.write("\t\tif (null != prism)\r\n");
      out.write("\t\t\tg_cylinders.push(prism);\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function showRemoveStat(rows){\r\n");
      out.write("\tvar projNames = [];\r\n");
      out.write("\tvar series = [{name: '拆迁率', type: 'bar', barMaxWidth: 30,data:[]}];\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\tvar projName = rows[i].cProjName;\r\n");
      out.write("\t\tprojNames.push(rows[i].cProjName);\r\n");
      out.write("\t\tvar value = parseFloat((rows[i].removed * 100.0 / rows[i].needRemove).toFixed(2));\r\n");
      out.write("\t\tseries[0].data.push(value);\r\n");
      out.write("\t}\r\n");
      out.write("\tvar option = {\r\n");
      out.write("\t    tooltip : {\r\n");
      out.write("\t        trigger: 'axis',\r\n");
      out.write("\t        axisPointer : {\r\n");
      out.write("\t            type : 'shadow'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    grid: {\r\n");
      out.write("\t        left: 30,\r\n");
      out.write("\t        right: 15,\r\n");
      out.write("\t        bottom: 10,\r\n");
      out.write("\t        containLabel: true\r\n");
      out.write("\t    },\r\n");
      out.write("\t    xAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'category',\r\n");
      out.write("\t            data : projNames\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    yAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'value',\r\n");
      out.write("\t            name: '百分比（%）'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    series : series\r\n");
      out.write("\t};\r\n");
      out.write("\tg_echartStat.clear();\t\r\n");
      out.write("\tg_echartStat.setOption(option);\r\n");
      out.write("}\r\n");
      out.write("function showRemoveCylinder(rows){\r\n");
      out.write("\tvar html=[];\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#F00\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">拆迁率小于30%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#00F\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">拆迁率在30%与70%之间</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#0F0\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">拆迁率大于70%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\t$('#legend').html(html.join(''));\r\n");
      out.write("\t\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\tvar projID = rows[i].cProjID;\r\n");
      out.write("\t\tvar polygon = g_areaPolygons[projID];\r\n");
      out.write("\t\tif (null == polygon)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar data = polygon.getExtData();\r\n");
      out.write("\t\tif (null == data)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar center = data.center;\r\n");
      out.write("\t\tif (null == center)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar per = rows[i].removed / rows[i].needRemove;\r\n");
      out.write("\t\tvar color = [0,0,1,0.8];\r\n");
      out.write("\t\tif (per < 0.3)\r\n");
      out.write("\t\t\tcolor = [1,0,0,0.8];\r\n");
      out.write("\t\telse if (per > 0.7)\r\n");
      out.write("\t\t\tcolor = [0,1,0,0.8];\t\t\r\n");
      out.write("\t\tvar height = per*(g_barMaxHeight - g_barMinHeight) + g_barMinHeight;\r\n");
      out.write("\t\tvar prism = addRegularPrism(center,4,height,1000,color, (Math.round(per*10000)/100)+'%');\r\n");
      out.write("\t\tif (null != prism)\r\n");
      out.write("\t\t\tg_cylinders.push(prism);\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("function showProgressStat(){\r\n");
      out.write("\tvar projNames = [];\r\n");
      out.write("\tvar series = [{name: '完成率', type: 'bar', barMaxWidth: 30,data:[]}];\r\n");
      out.write("\tfor(var key in g_areaPolygons){\r\n");
      out.write("\t\tvar data = g_areaPolygons[key].getExtData();\r\n");
      out.write("\t\tif (null == data)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tprojNames.push(data.cProjName);\r\n");
      out.write("\t\tvar nodeName = data.nodeName;\r\n");
      out.write("\t\tvar info = g_nodeNameList[nodeName];\r\n");
      out.write("\t\tvar value = 0;\r\n");
      out.write("\t\tif (null != info && info.progress=='1'){\r\n");
      out.write("\t\t\tvalue = parseFloat((info.index * 100 / g_nodeNameMax[0]).toFixed(2));\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tseries[0].data.push(value);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar center = data.center;\r\n");
      out.write("\t\tif (null == center)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar per = value/100.0;\r\n");
      out.write("\t\tvar color = [0,0,1,0.8];\r\n");
      out.write("\t\tif (per < 0.3)\r\n");
      out.write("\t\t\tcolor = [1,0,0,0.8];\r\n");
      out.write("\t\telse if (per > 0.7)\r\n");
      out.write("\t\t\tcolor = [0,1,0,0.8];\t\t\r\n");
      out.write("\t\tvar height = per*(g_barMaxHeight - g_barMinHeight) + g_barMinHeight;\r\n");
      out.write("\t\tvar prism = addRegularPrism(center,4,height,1000,color, (per*100)+'%');\r\n");
      out.write("\t\tif (null != prism)\r\n");
      out.write("\t\t\tg_cylinders.push(prism);\r\n");
      out.write("\t}\r\n");
      out.write("\tvar option = {\r\n");
      out.write("\t    tooltip : {\r\n");
      out.write("\t        trigger: 'axis',\r\n");
      out.write("\t        axisPointer : {\r\n");
      out.write("\t            type : 'shadow'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    grid: {\r\n");
      out.write("\t        left: 50,\r\n");
      out.write("\t        right: 15,\r\n");
      out.write("\t        bottom: 10,\r\n");
      out.write("\t        containLabel: true\r\n");
      out.write("\t    },\r\n");
      out.write("\t    xAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'category',\r\n");
      out.write("\t            data : projNames\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    yAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'value',\r\n");
      out.write("\t            name: '前期完成节点百分比（%）'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    series : series\r\n");
      out.write("\t};\r\n");
      out.write("\tg_echartStat.clear();\t\r\n");
      out.write("\tg_echartStat.setOption(option);\r\n");
      out.write("\t\r\n");
      out.write("\tvar html=[];\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#F00\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">节点完成率小于30%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#00F\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">节点完成率在30%与70%之间</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#0F0\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">节点完成率大于70%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\t$('#legend').html(html.join(''));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function showExpendStat(rows){\r\n");
      out.write("\tvar massifNames = [];\r\n");
      out.write("\tvar series = [{name: '投入额', type: 'bar', barMaxWidth: 30,data:[]}];\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\tmassifNames.push(rows[i].cMassifName);\r\n");
      out.write("\t\tseries[0].data.push(rows[i].totalAmount);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar proj = g_massifPolygons[rows[i].cProjID];\r\n");
      out.write("\t\tif (null == proj)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar polygon = proj[rows[i].cMassifID];\r\n");
      out.write("\t\tif (null == polygon)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar data  = polygon.getExtData();\r\n");
      out.write("\t\tif (null == data)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar center = data.center;\r\n");
      out.write("\t\tif (null == center)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tvar per = 1;\r\n");
      out.write("\t\tif (data.iPlannedAmount > 0.001)\r\n");
      out.write("\t\t\tper = rows[i].totalAmount / data.iPlannedAmount;\r\n");
      out.write("\t\tvar color = [0,0,1,0.8];\r\n");
      out.write("\t\tif (per < 0.3)\r\n");
      out.write("\t\t\tcolor = [0,1,0,0.8];\r\n");
      out.write("\t\telse if (per > 0.7)\r\n");
      out.write("\t\t\tcolor = [1,0,0,0.8];\t\t\r\n");
      out.write("\t\tvar height = per*(g_barMaxHeight - g_barMinHeight) + g_barMinHeight;\r\n");
      out.write("\t\tvar prism = addRegularPrism(center,4,height,1000,color,(per*100)+'%');\r\n");
      out.write("\t\tif (null != prism)\r\n");
      out.write("\t\t\tg_cylinders.push(prism);\r\n");
      out.write("\t}\r\n");
      out.write("\tvar option = {\r\n");
      out.write("\t    tooltip : {\r\n");
      out.write("\t        trigger: 'axis',\r\n");
      out.write("\t        axisPointer : {\r\n");
      out.write("\t            type : 'shadow'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    grid: {\r\n");
      out.write("\t        left: 50,\r\n");
      out.write("\t        right: 15,\r\n");
      out.write("\t        bottom: 10,\r\n");
      out.write("\t        containLabel: true\r\n");
      out.write("\t    },\r\n");
      out.write("\t    xAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'category',\r\n");
      out.write("\t            data : massifNames\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    yAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'value',\r\n");
      out.write("\t            name: '地块投入额（万元）'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    series : series\r\n");
      out.write("\t};\r\n");
      out.write("\tg_echartStat.clear();\t\r\n");
      out.write("\tg_echartStat.setOption(option);\r\n");
      out.write("\t\r\n");
      out.write("\tvar html=[];\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#F00\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">投入率大于70%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#00F\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">投入率在30%与70%之间</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#0F0\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">投入率小于30%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\t$('#legend').html(html.join(''));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function showMassifRemoveStat(){\r\n");
      out.write("\tvar massifNames = [];\r\n");
      out.write("\tvar series = [{name: '拆迁率', type: 'bar', barMaxWidth: 30,data:[]}];\r\n");
      out.write("\tfor(var key in g_massifPolygons){\r\n");
      out.write("\t\tvar projPolygons = g_massifPolygons[key];\r\n");
      out.write("\t\tif (null == projPolygons)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tfor(var key2 in projPolygons){\r\n");
      out.write("\t\t\tvar data = projPolygons[key2].getExtData();\r\n");
      out.write("\t\t\tif (null == data)\r\n");
      out.write("\t\t\t\tcontinue;\r\n");
      out.write("\t\t\tvar needRemove = data.iNeedRemove;\r\n");
      out.write("\t\t\tif (null == needRemove || needRemove < 1)\r\n");
      out.write("\t\t\t\tcontinue;\r\n");
      out.write("\t\t\tmassifNames.push(data.cMassifName);\r\n");
      out.write("\t\t\tvar removed = data.iRemoved;\r\n");
      out.write("\t\t\tvar value = 100;\r\n");
      out.write("\t\t\tif (needRemove > 0){\r\n");
      out.write("\t\t\t\tvalue = parseFloat((removed * 100.0 / needRemove).toFixed(2));\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tseries[0].data.push(value);\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tvar center = data.center;\r\n");
      out.write("\t\t\tif (null == center)\r\n");
      out.write("\t\t\t\tcontinue;\r\n");
      out.write("\t\t\tvar per = value/100.0;\r\n");
      out.write("\t\t\tvar color = [0,0,1,0.8];\r\n");
      out.write("\t\t\tif (per < 0.3)\r\n");
      out.write("\t\t\t\tcolor = [1,0,0,0.8];\r\n");
      out.write("\t\t\telse if (per > 0.7)\r\n");
      out.write("\t\t\t\tcolor = [0,1,0,0.8];\t\t\r\n");
      out.write("\t\t\tvar height = per*(g_barMaxHeight - g_barMinHeight) + g_barMinHeight;\r\n");
      out.write("\t\t\tvar prism = addRegularPrism(center,4,height,1000,color, (per*100)+'%');\r\n");
      out.write("\t\t\tif (null != prism)\r\n");
      out.write("\t\t\t\tg_cylinders.push(prism);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tvar option = {\r\n");
      out.write("\t    tooltip : {\r\n");
      out.write("\t        trigger: 'axis',\r\n");
      out.write("\t        axisPointer : {\r\n");
      out.write("\t            type : 'shadow'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    grid: {\r\n");
      out.write("\t        left: 20,\r\n");
      out.write("\t        right: 15,\r\n");
      out.write("\t        bottom: 10,\r\n");
      out.write("\t        containLabel: true\r\n");
      out.write("\t    },\r\n");
      out.write("\t    xAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'category',\r\n");
      out.write("\t            data : massifNames\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    yAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'value',\r\n");
      out.write("\t            name: '拆迁率（%）'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    series : series\r\n");
      out.write("\t};\r\n");
      out.write("\tg_echartStat.clear();\t\r\n");
      out.write("\tg_echartStat.setOption(option);\r\n");
      out.write("\t\r\n");
      out.write("\tvar html=[];\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#F00\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">拆迁率小于30%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#00F\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">拆迁率在30%与70%之间</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#0F0\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">拆迁率大于70%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\t$('#legend').html(html.join(''));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function showMassifProgressStat(){\r\n");
      out.write("\tvar massifNames = [];\r\n");
      out.write("\tvar series = [{name: '完成率', type: 'bar', barMaxWidth: 30,data:[]}];\r\n");
      out.write("\tfor(var key in g_massifPolygons){\r\n");
      out.write("\t\tvar projPolygons = g_massifPolygons[key];\r\n");
      out.write("\t\tif (null == projPolygons)\r\n");
      out.write("\t\t\tcontinue;\r\n");
      out.write("\t\tfor(var key2 in projPolygons){\r\n");
      out.write("\t\t\tvar data = projPolygons[key2].getExtData();\r\n");
      out.write("\t\t\tif (null == data)\r\n");
      out.write("\t\t\t\tcontinue;\r\n");
      out.write("\t\t\tmassifNames.push(data.cMassifName);\r\n");
      out.write("\t\t\tvar nodeName = data.nodeName;\r\n");
      out.write("\t\t\tvar info = g_nodeNameList[nodeName];\r\n");
      out.write("\t\t\tvar value = 0;\r\n");
      out.write("\t\t\tif (null != info && info.progress=='2'){\r\n");
      out.write("\t\t\t\tvalue = parseFloat((info.index * 100 / g_nodeNameMax[1]).toFixed(2));\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tseries[0].data.push(value);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\tif (value > 0){\r\n");
      out.write("\t\t\t\tvar center = data.center;\r\n");
      out.write("\t\t\t\tif (null == center)\r\n");
      out.write("\t\t\t\t\tcontinue;\r\n");
      out.write("\t\t\t\tvar per = value/100.0;\r\n");
      out.write("\t\t\t\tvar color = [0,0,1,0.8];\r\n");
      out.write("\t\t\t\tif (per < 0.3)\r\n");
      out.write("\t\t\t\t\tcolor = [1,0,0,0.8];\r\n");
      out.write("\t\t\t\telse if (per > 0.7)\r\n");
      out.write("\t\t\t\t\tcolor = [0,1,0,0.8];\t\t\r\n");
      out.write("\t\t\t\tvar height = per*(g_barMaxHeight - g_barMinHeight) + g_barMinHeight;\r\n");
      out.write("\t\t\t\tvar prism = addRegularPrism(center,4,height,1000,color,(per*100)+'%');\r\n");
      out.write("\t\t\t\tif (null != prism)\r\n");
      out.write("\t\t\t\t\tg_cylinders.push(prism);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tvar option = {\r\n");
      out.write("\t    tooltip : {\r\n");
      out.write("\t        trigger: 'axis',\r\n");
      out.write("\t        axisPointer : {\r\n");
      out.write("\t            type : 'shadow'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    },\r\n");
      out.write("\t    grid: {\r\n");
      out.write("\t        left: 50,\r\n");
      out.write("\t        right: 15,\r\n");
      out.write("\t        bottom: 10,\r\n");
      out.write("\t        containLabel: true\r\n");
      out.write("\t    },\r\n");
      out.write("\t    xAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'category',\r\n");
      out.write("\t            data : massifNames\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    yAxis : [\r\n");
      out.write("\t        {\r\n");
      out.write("\t            type : 'value',\r\n");
      out.write("\t            name: '地块完成节点百分比（%）'\r\n");
      out.write("\t        }\r\n");
      out.write("\t    ],\r\n");
      out.write("\t    series : series\r\n");
      out.write("\t};\r\n");
      out.write("\tg_echartStat.clear();\t\r\n");
      out.write("\tg_echartStat.setOption(option);\r\n");
      out.write("\t\r\n");
      out.write("\tvar html=[];\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#F00\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">节点完成率小于30%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#00F\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">节点完成率在30%与70%之间</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\thtml.push('<div class=\"legend-item\">');\r\n");
      out.write("\thtml.push('<div class=\"float-left legend\" style=\"background:#0F0\"></div>');\r\n");
      out.write("\thtml.push('<div class=\"float-right\">节点完成率大于70%</div>');\r\n");
      out.write("\thtml.push('</div>');\r\n");
      out.write("\t$('#legend').html(html.join(''));\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function showFacility(active){\r\n");
      out.write("\tif (active){\r\n");
      out.write("\t\tif (g_facilities.length == 0){\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getFacility',\r\n");
      out.write("\t\t\t\tdataType : 'json',\r\n");
      out.write("\t\t\t\ttimeout : 10000,\r\n");
      out.write("\t\t\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\t\t\taddFacilities(msg.rows);\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror: function(){\r\n");
      out.write("\t\t\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\t\t\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tg_map.add(g_facilities);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tg_map.remove(g_facilities);\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("function addFacilities(rows){\r\n");
      out.write("\tfor(var i=0;i<rows.length;i++){\r\n");
      out.write("\t\tvar info = rows[i];\r\n");
      out.write("\t\tif (info.iLocType == 2){\r\n");
      out.write("\t\t\tvar pts = eval('('+info.cPolygon+')');\r\n");
      out.write("\t\t\tvar colorIndex = 0;\r\n");
      out.write("\t\t\tfor(var k=0;k<typeColors.length;k++){\r\n");
      out.write("\t\t\t\tif (typeColors[k].type == info.cCategory){\r\n");
      out.write("\t\t\t\t\tcolorIndex = typeColors[k].colorno;\r\n");
      out.write("\t\t\t\t\tbreak;\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tvar color = getIndexColor(colorIndex);\r\n");
      out.write("\t\t\tvar polygon = new AMap.Polygon({\r\n");
      out.write("\t\t        path: pts,\t\t\t//设置多边形边界路径\r\n");
      out.write("\t\t        strokeColor: color, //线颜色\r\n");
      out.write("\t\t        strokeOpacity: 0.6, \t//线透明度\r\n");
      out.write("\t\t        strokeWeight: 2,    \t//线宽\r\n");
      out.write("\t\t        fillColor: color, \t//填充色\r\n");
      out.write("\t\t        fillOpacity: 1,\t\t//填充透明度\r\n");
      out.write("\t\t        bubble: true,\r\n");
      out.write("\t\t\t\textData: info\r\n");
      out.write("\t\t    });\r\n");
      out.write("\t\t\tpolygon.setMap(g_map);\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tpolygon.on('click',function(e){\r\n");
      out.write("\t\t\t\tvar data = this.getExtData();\r\n");
      out.write("\t\t\t\tvar html=[];\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infowindow\">');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infotitle\">'+data.cName+'</div>');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infoline\">类型：'+ data.cType + '</div>');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infoline\">规模：'+ data.cScale + '</div>');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infoline\">提交时间：'+ data.dtCreate + '</div>');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infoline\">说明：'+ data.cRemark + '</div>');\r\n");
      out.write("\t\t\t\thtml.push('</div>');\r\n");
      out.write("\t\t\t\tshowInfoWindow(e.lnglat,html.join(''),new AMap.Pixel(0,0));\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\tg_facilities.push(polygon);\r\n");
      out.write("\t\t}else if (info.iLocType == 1){\r\n");
      out.write("\t\t\tvar ptMarker = new AMap.Marker({\r\n");
      out.write("\t\t\t\tposition: [info.fLng,info.fLat],\r\n");
      out.write("\t\t\t\ttitle: info.cName,\r\n");
      out.write("\t\t\t\ticon: \"images/circle-blue-16.png\",\r\n");
      out.write("\t\t\t\toffset: new AMap.Pixel(-8,-8),\r\n");
      out.write("\t\t\t\textData: info\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\tptMarker.setMap(g_map);\r\n");
      out.write("\t\t\tg_facilities.push(ptMarker);\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tptMarker.on('click',function(){\r\n");
      out.write("\t\t\t\tvar data = this.getExtData();\r\n");
      out.write("\t\t\t\tvar curPt = this.getPosition();\r\n");
      out.write("\t\t\t\tvar html=[];\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infowindow\">');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infotitle\">'+data.cName+'</div>');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infoline\">类型：'+ data.cType + '</div>');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infoline\">规模：'+ data.cScale + '</div>');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infoline\">提交时间：'+ data.dtCreate + '</div>');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infoline\">地址：'+ data.cAddr + '</div>');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infoline\">坐标：');\r\n");
      out.write("\t\t\t\thtml.push(curPt.getLng()+' , '+curPt.getLat());\r\n");
      out.write("\t\t\t\thtml.push('</div>');\r\n");
      out.write("\t\t\t\thtml.push('<div class=\"infoline\">说明：'+ data.cRemark + '</div>');\r\n");
      out.write("\t\t\t\thtml.push('</div>');\r\n");
      out.write("\t\t\t\tshowInfoWindow(curPt,html.join(''),new AMap.Pixel(0,-8));\r\n");
      out.write("\t\t\t});\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("function showHousePrice(active){\r\n");
      out.write("\tif (active){\r\n");
      out.write("\t\tif (g_housePrices.length == 0){\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getHouse',\r\n");
      out.write("\t\t\t\tdataType : 'json',\r\n");
      out.write("\t\t\t\ttimeout : 10000,\r\n");
      out.write("\t\t\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\t\t\tfor(var i=0;i<msg.rows.length;i++){\r\n");
      out.write("\t\t\t\t\t\t\t\taddHousePrice(msg.rows[i]);\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror: function(){\r\n");
      out.write("\t\t\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\t\t\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tg_map.add(g_housePrices);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tg_map.remove(g_housePrices);\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("function addHousePrice(info){\r\n");
      out.write("\tvar ptMarker = new AMap.Marker({\r\n");
      out.write("\t\tposition: [info.fLng,info.fLat],\r\n");
      out.write("\t\ttitle: info.cName,\r\n");
      out.write("\t\textData: info\r\n");
      out.write("\t});\r\n");
      out.write("\tptMarker.setTop(true);\r\n");
      out.write("\tptMarker.setMap(g_map);\r\n");
      out.write("\tg_housePrices.push(ptMarker);\r\n");
      out.write("\t\r\n");
      out.write("\tptMarker.on('click',function(){\r\n");
      out.write("\t\tvar data = this.getExtData();\r\n");
      out.write("\t\tvar curPt = this.getPosition();\r\n");
      out.write("\t\tvar html=[];\r\n");
      out.write("\t\thtml.push('<div class=\"infotitle\">'+data.cName+'</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">用途：'+ data.cUsage + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">距离：'+ data.iDist + '米</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">开盘性质：'+ (data.isNew==1?'新开盘':'二手房') + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">开盘日期：'+ data.dtOpen + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">使用年限：'+ data.iUseYear + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">租售性质：'+ (data.isRent==1?'租赁':'销售') + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">开盘价：'+ data.fOpenPrice + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">当前价：'+ data.fCurPrice + '</div>');\r\n");
      out.write("\t\tif (data.cUsage != '工业'){\r\n");
      out.write("\t\t\thtml.push('<div class=\"infoline\">类型：'+ data.cType + '</div>');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">坐标：');\r\n");
      out.write("\t\thtml.push(curPt.getLng()+' , '+curPt.getLat());\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">位置：'+ data.cAddr + '</div>');\r\n");
      out.write("\t\tshowInfoWindow(curPt,html.join(''),new AMap.Pixel(0,-30));\r\n");
      out.write("\t});\t\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_c_005fset_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f0 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    boolean _jspx_th_c_005fset_005f0_reused = false;
    try {
      _jspx_th_c_005fset_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fset_005f0.setParent(null);
      // /backglobal.jsp(6,0) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f0.setVar("urlhead");
      // /backglobal.jsp(6,0) name = value type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f0.setValue((java.lang.Object) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.Object.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      int _jspx_eval_c_005fset_005f0 = _jspx_th_c_005fset_005f0.doStartTag();
      if (_jspx_th_c_005fset_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.reuse(_jspx_th_c_005fset_005f0);
      _jspx_th_c_005fset_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fset_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fset_005f0_reused);
    }
    return false;
  }
}

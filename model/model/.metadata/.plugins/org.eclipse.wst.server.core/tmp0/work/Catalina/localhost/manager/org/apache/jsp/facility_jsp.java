/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.78
 * Generated at: 2018-07-10 01:33:12 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class facility_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(4);
    _jspx_dependants.put("/WEB-INF/tlds/fn.tld", Long.valueOf(1384075604000L));
    _jspx_dependants.put("/backglobal.jsp", Long.valueOf(1527385603000L));
    _jspx_dependants.put("/global.jsp", Long.valueOf(1531186298000L));
    _jspx_dependants.put("/WEB-INF/tlds/c.tld", Long.valueOf(1384075546000L));
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n");
      out.write("\r\n");
      out.write("    \r\n");
      out.write("\r\n");
      out.write("    \r\n");
      out.write("    \r\n");
      out.write("\r\n");
      if (_jspx_meth_c_005fset_005f0(_jspx_page_context))
        return;
      out.write('\r');
      out.write('\n');
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery-ui.min.css\" />\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"css/global.css\" />\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"css/combox.css\" />\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery-ui-timepicker-addon.css\" />\r\n");
      out.write("<script type=text/javascript src=\"js/jquery-1.9.1.min.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/jquery.form.min.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/jquery-ui.min.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/common.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/globalize.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/globalize.culture.de-DE.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/combox.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/jquery-ui-timepicker-addon.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/jquery.ui.datepicker-zh-CN.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/jquery-ui-timepicker-zh-CN.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=text/javascript src=\"modules/modules.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/Tdrag.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"modules/button/button.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"modules/labelinput/labelinput.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"modules/dialog/dialog.js\"></script>\r\n");
      out.write("<script type=text/javascript src=\"js/messagebox.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"css/SimpleGrid.css\" />\r\n");
      out.write("<script type=text/javascript src=\"js/SimpleGrid.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=text/javascript src=\"js/amapinit.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("var g_largeType=[\r\n");
      out.write("    \"教育\",\"医疗\",\"商业\",\"公共服务\",\"交通\",\"行政办公\",\"其他\"\r\n");
      out.write("];\r\n");
      out.write("var g_unitType=[\r\n");
      out.write("\t[\r\n");
      out.write("\t \"托儿所\",\"小学\",\"初中\",\"高中\",\"中专大专\",\"高等院校\",\"其他\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"综合医院\",\"专科医院\",\"卫生服务中心\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"体育活动中心\",\"社区文化站\",\"社区健身场\",\"综合超市\",\"大型购物中心\",\"社区肉菜市场\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"青少年活动中心\",\"敬老院\",\"老年人活动站\",\"社区文娱中心\",\"社区警务室\",\"社区服务站\",\"图书馆\",\"网络通信服务\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"地铁站\",\"公交站\",\"火车站\",\"飞机场\",\"长途客运站\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"党政机关\",\"公安局\",\"街道办事处\",\"街道派出所\",\"社区居委会\",\"社区服务中心\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"绿地\",\"危险品仓库\",\"垃圾焚烧厂\",\"垃圾填埋厂\",\"高压变电站\",\"加油加气站\"\r\n");
      out.write("\t]\r\n");
      out.write("];\r\n");
      out.write("var g_unitCategory=[\r\n");
      out.write("\t[\r\n");
      out.write("\t \"A3\",\"A3\",\"A3\",\"A3\",\"A3\",\"A3\",\"A3\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"A5\",\"A5\",\"A5\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"A4\",\"A2\",\"A6\",\"B1\",\"B1\",\"B9\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"A6\",\"A6\",\"A6\",\"A6\",\"A1\",\"A1\",\"A1\",\"B4\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"B9\",\"B9\",\"B9\",\"B9\",\"B9\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"A1\",\"A1\",\"A1\",\"A1\",\"A1\",\"A6\"\r\n");
      out.write("\t],[\r\n");
      out.write("\t \"G1\",\"M\",\"B9\",\"B9\",\"A\",\"W\"\r\n");
      out.write("\t]\r\n");
      out.write("];\r\n");
      out.write("var typeColors=[\r\n");
      out.write("\t{type:'R',name:'居住用地',colorno: 50},\r\n");
      out.write("\t{type:'R1',name:'一类居住有地',colorno: 51},\r\n");
      out.write("\t{type:'R2',name:'二类居住有地',colorno: 50},\r\n");
      out.write("\t{type:'R3',name:'三类居住有地',colorno: 40},\r\n");
      out.write("\t{type:'A',name:'公共管理与公共服务用地',colorno: 231},\r\n");
      out.write("\t{type:'A1',name:'行政办公用地',colorno: 231},\r\n");
      out.write("\t{type:'A2',name:'文化设施用地',colorno: 241},\r\n");
      out.write("\t{type:'A3',name:'教育科研用地',colorno: 21},\r\n");
      out.write("\t{type:'A4',name:'体育用地',colorno: 62},\r\n");
      out.write("\t{type:'A5',name:'医疗卫生用地',colorno: 11},\r\n");
      out.write("\t{type:'A6',name:'社会福利设施用地',colorno: 243},\r\n");
      out.write("\t{type:'A7',name:'文物古迹用地',colorno: 244},\r\n");
      out.write("\t{type:'A8',name:'外事用地',colorno: 230},\r\n");
      out.write("\t{type:'A9',name:'宗教设施用地',colorno: 232},\r\n");
      out.write("\t{type:'B',name:'商业服务业设施用地',colorno: 240},\r\n");
      out.write("\t{type:'B1',name:'商业设施用地',colorno: 240},\r\n");
      out.write("\t{type:'B2',name:'商务设施用地',colorno: 240},\r\n");
      out.write("\t{type:'B3',name:'娱乐康体用地',colorno: 240},\r\n");
      out.write("\t{type:'B4',name:'公用设施营业网点用地',colorno: 240},\r\n");
      out.write("\t{type:'B9',name:'其它服务设施用地',colorno: 240},\r\n");
      out.write("\t{type:'M',name:'工业用地',colorno: 35},\r\n");
      out.write("\t{type:'M1',name:'一类工业用地',colorno: 35},\r\n");
      out.write("\t{type:'M2',name:'二类工业用地',colorno: 37},\r\n");
      out.write("\t{type:'M3',name:'三类工业用地',colorno: 39},\r\n");
      out.write("\t{type:'W',name:'物流仓储用地',colorno: 193},\r\n");
      out.write("\t{type:'W1',name:'一类物流仓储用地',colorno: 193},\r\n");
      out.write("\t{type:'W2',name:'二类物流仓储用地',colorno: 195},\r\n");
      out.write("\t{type:'W3',name:'三类物流仓储用地',colorno: 197},\r\n");
      out.write("\t{type:'S',name:'交通设施用地',colorno: 8},\r\n");
      out.write("\t{type:'S1',name:'城市道路用地',colorno: 8},\r\n");
      out.write("\t{type:'S2',name:'轨道交通线路用地',colorno: 8},\r\n");
      out.write("\t{type:'S3',name:'综合交通枢纽用地',colorno: 8},\r\n");
      out.write("\t{type:'S4',name:'交通场站用地',colorno: 8},\r\n");
      out.write("\t{type:'S9',name:'其它交通设施用地',colorno: 8},\r\n");
      out.write("\t{type:'U',name:'公用设施用地',colorno: 154},\r\n");
      out.write("\t{type:'U1',name:'供应设施用地',colorno: 154},\r\n");
      out.write("\t{type:'U2',name:'环境设施用地',colorno: 136},\r\n");
      out.write("\t{type:'U3',name:'安全设施用地',colorno: 144},\r\n");
      out.write("\t{type:'U9',name:'其它公用设施用地',colorno: 147},\r\n");
      out.write("\t{type:'G',name:'绿地',colorno:90},\r\n");
      out.write("\t{type:'G1',name:'公园绿地',colorno:90},\r\n");
      out.write("\t{type:'G2',name:'防护绿地',colorno:104},\r\n");
      out.write("\t{type:'G3',name:'广场用地',colorno:93},\r\n");
      out.write("\t{type:'H1',name:'城乡居民点建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H11',name:'城市建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H12',name:'镇建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H13',name:'乡建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H14',name:'村庄建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H15',name:'独立建设用地',colorno: 0},\r\n");
      out.write("\t{type:'H2',name:'区域交通设施用地',colorno: 9},\r\n");
      out.write("\t{type:'H21',name:'铁路用地',colorno: 9},\r\n");
      out.write("\t{type:'H22',name:'公路用地',colorno: 9},\r\n");
      out.write("\t{type:'H23',name:'港口用地',colorno: 9},\r\n");
      out.write("\t{type:'H24',name:'机场用地',colorno: 9},\r\n");
      out.write("\t{type:'H25',name:'管道运输用地',colorno: 9},\r\n");
      out.write("\t{type:'H3',name:'区域公用设施用地',colorno: 156},\r\n");
      out.write("\t{type:'H4',name:'特殊用地',colorno:87},\r\n");
      out.write("\t{type:'H41',name:'军事用地',colorno:87},\r\n");
      out.write("\t{type:'H42',name:'安保用地',colorno:87},\r\n");
      out.write("\t{type:'H5',name:'采矿用地',colorno: 34},\r\n");
      out.write("\t{type:'E1',name:'水域',colorno:140},\r\n");
      out.write("\t{type:'E11',name:'自然水域',colorno:132},\r\n");
      out.write("\t{type:'E12',name:'水库',colorno:140},\r\n");
      out.write("\t{type:'E13',name:'坑塘沟渠',colorno:130},\r\n");
      out.write("\t{type:'E2',name:'农林用地',colorno: 82},\r\n");
      out.write("\t{type:'E3',name:'其它非建设用地',colorno:53},\r\n");
      out.write("\t{type:'E31',name:'空闲地',colorno:53},\r\n");
      out.write("\t{type:'E32',name:'其它非利用地',colorno:55}\r\n");
      out.write("];\r\n");
      out.write("\r\n");
      out.write("var colorIndexes=[\r\n");
      out.write("\t[0,0,0],[255,0,0],[255,255,0],[0,255,0],[0,255,255],[0,0,255],[255,0,255],[255,255,255],\r\n");
      out.write("\t[128,128,128],[192,192,192],[255,0,0],[255,127,127],[204,0,0],[204,102,102],[153,0,0],[153,76,76],\r\n");
      out.write("\t[127,0,0],[127,63,63],[76,0,0],[76,38,38],[255,63,0],[255,159,127],[204,51,0],[204,127,102],\r\n");
      out.write("\t[153,38,0],[153,95,76],[127,31,0],[127,79,63],[76,19,0],[76,47,38],[255,127,0],[255,191,127],\r\n");
      out.write("\t[204,102,0],[204,153,102],[153,76,0],[153,114,76],[127,63,0],[127,95,63],[76,38,0],[76,57,38],\r\n");
      out.write("\t[255,191,0],[255,223,127],[204,153,0],[204,178,102],[153,114,0],[153,133,76],[127,95,0],[127,111,63],\r\n");
      out.write("\t[76,57,0],[76,66,38],[255,255,0],[255,255,127],[204,204,0],[204,204,102],[153,153,0],[153,153,76],\r\n");
      out.write("\t[127,127,0],[127,127,63],[76,76,0],[76,76,38],[191,255,0],[223,255,127],[153,204,0],[178,204,102],\r\n");
      out.write("\t[114,153,0],[133,153,76],[95,127,0],[111,127,63],[57,76,0],[66,76,38],[127,255,0],[191,255,127],\r\n");
      out.write("\t[102,204,0],[153,204,102],[76,153,0],[114,153,76],[63,127,0],[95,127,63],[38,76,0],[57,76,38],\r\n");
      out.write("\t[63,255,0],[159,255,127],[51,204,0],[127,204,102],[38,153,0],[95,153,76],[31,127,0],[79,127,63],\r\n");
      out.write("\t[19,76,0],[47,76,38],[0,255,0],[127,255,127],[0,204,0],[102,204,102],[0,153,0],[76,153,76],\r\n");
      out.write("\t[0,127,0],[63,127,63],[0,76,0],[38,76,38],[0,255,63],[127,255,159],[0,204,51],[102,204,127],\r\n");
      out.write("\t[0,153,38],[76,153,95],[0,127,31],[63,127,79],[0,76,19],[38,76,47],[0,255,127],[127,255,191],\r\n");
      out.write("\t[0,204,102],[102,204,153],[0,153,76],[76,153,114],[0,127,63],[63,127,95],[0,76,38],[38,76,57],\r\n");
      out.write("\t[0,255,191],[127,255,223],[0,204,153],[102,204,178],[0,153,114],[76,153,133],[0,127,95],[63,127,111],\r\n");
      out.write("\t[0,76,57],[38,76,66],[0,255,255],[127,255,255],[0,204,204],[102,204,204],[0,153,153],[76,153,153],\r\n");
      out.write("\t[0,127,127],[63,127,127],[0,76,76],[38,76,76],[0,191,255],[127,223,255],[0,153,204],[102,178,204],\r\n");
      out.write("\t[0,114,153],[76,133,153],[0,95,127],[63,111,127],[0,57,76],[38,66,76],[0,127,255],[127,191,255],\r\n");
      out.write("\t[0,102,204],[102,153,204],[0,76,153],[76,114,153],[0,63,127],[63,95,127],[0,38,76],[38,57,76],\r\n");
      out.write("\t[0,63,255],[127,159,255],[0,51,204],[102,127,204],[0,38,153],[76,95,153],[0,31,127],[63,79,127],\r\n");
      out.write("\t[0,19,76],[38,47,76],[0,0,255],[127,127,255],[0,0,204],[102,102,204],[0,0,153],[76,76,153],\r\n");
      out.write("\t[0,0,127],[63,63,127],[0,0,76],[38,38,76],[63,0,255],[159,127,255],[51,0,204],[127,102,204],\r\n");
      out.write("\t[38,0,153],[95,76,153],[31,0,127],[79,63,127],[19,0,76],[47,38,76],[127,0,255],[191,127,255],\r\n");
      out.write("\t[102,0,204],[153,102,204],[76,0,153],[114,76,153],[63,0,127],[95,63,127],[38,0,76],[57,38,76],\r\n");
      out.write("\t[191,0,255],[223,127,255],[153,0,204],[178,102,204],[114,0,153],[133,76,153],[95,0,127],[111,63,127],\r\n");
      out.write("\t[57,0,76],[66,38,76],[255,0,255],[255,127,255],[204,0,204],[204,102,204],[153,0,153],[153,76,153],\r\n");
      out.write("\t[127,0,127],[127,63,127],[76,0,76],[76,38,76],[255,0,191],[255,127,223],[204,0,153],[204,102,178],\r\n");
      out.write("\t[153,0,114],[153,76,133],[127,0,95],[127,63,111],[76,0,57],[76,38,66],[255,0,127],[255,127,191],\r\n");
      out.write("\t[204,0,102],[204,102,153],[153,0,76],[153,76,114],[127,0,63],[127,63,95],[76,0,38],[76,38,57],\r\n");
      out.write("\t[255,0,63],[255,127,159],[204,0,51],[204,102,127],[153,0,38],[153,76,95],[127,0,31],[127,63,79],\r\n");
      out.write("\t[76,0,19],[76,38,47],[51,51,51],[91,91,91],[132,132,132],[173,173,173],[214,214,214],[255,255,255]\r\n");
      out.write("];\r\n");
      out.write("function intToHexString(v,len){\r\n");
      out.write("\tvar ret = v.toString(16);\r\n");
      out.write("\tif (ret.length < len){\r\n");
      out.write("\t\tvar a = len - ret.length;\r\n");
      out.write("\t\tfor(var i=0;i<a;i++){\r\n");
      out.write("\t\t\tret = '0' + ret;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\treturn ret;\r\n");
      out.write("}\r\n");
      out.write("function getIndexColor(index){\r\n");
      out.write("    if (index < 0 || index >= colorIndexes.length){\r\n");
      out.write("    \treturn \"\";\r\n");
      out.write("    }\r\n");
      out.write("    var ret = '#';\r\n");
      out.write("    for(var i=0;i<3;i++){\r\n");
      out.write("    \tret += intToHexString(colorIndexes[index][i],2);\r\n");
      out.write("    }\r\n");
      out.write("    return ret;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var g_nodeNameMax=[20,24,20];\r\n");
      out.write("var g_nodeNameList={\r\n");
      out.write("\t\"xmkffw\": {\"name\": \"明确项目开发范围\", \"progress\": \"1\",\"index\":\"1\"},\r\n");
      out.write("\t\"xmcbys\": {\"name\": \"审核项目初步预算\", \"progress\": \"1\",\"index\":\"2\"},\r\n");
      out.write("\t\"shjcpw\": {\"name\": \"上会决策取得授权批文\", \"progress\": \"1\",\"index\":\"3\"},\r\n");
      out.write("\t\"kybzdwzb\": {\"name\": \"可研编制单位招标\", \"progress\": \"1\",\"index\":\"4\"},\r\n");
      out.write("\t\"tdkffa\": {\"name\": \"确定土地开发方案\", \"progress\": \"1\",\"index\":\"5\"},\r\n");
      out.write("\t\"kxxyjbg\": {\"name\": \"审核可行性研究报告\", \"progress\": \"1\",\"index\":\"6\"},\r\n");
      out.write("\t\"cwsh\": {\"name\": \"财务审核意见\", \"progress\": \"1\",\"index\":\"7\"},\r\n");
      out.write("\t\"rzsh\": {\"name\": \"融资部审核意见\", \"progress\": \"1\",\"index\":\"8\"},\r\n");
      out.write("\t\"xmsj\": {\"name\": \"项目审计意见\", \"progress\": \"1\",\"index\":\"9\"},\r\n");
      out.write("\t\"shjc\": {\"name\": \"上会决策\", \"progress\": \"1\",\"index\":\"10\"},\r\n");
      out.write("\t\"sfht\": {\"name\": \"三方合同拟定\", \"progress\": \"1\",\"index\":\"11\"},\r\n");
      out.write("\t\"htsh1\": {\"name\": \"合同审核\", \"progress\": \"1\",\"index\":\"12\"},\r\n");
      out.write("\t\"zfxs\": {\"name\": \"和属地政府协商\", \"progress\": \"1\",\"index\":\"13\"},\r\n");
      out.write("\t\"zjdw\": {\"name\": \"确认资金到位\", \"progress\": \"1\",\"index\":\"14\"},\r\n");
      out.write("\t\"gkzb\": {\"name\": \"公开招标\", \"progress\": \"1\",\"index\":\"15\"},\r\n");
      out.write("\t\"sfht\": {\"name\": \"四方合同拟定\", \"progress\": \"1\",\"index\":\"16\"},\r\n");
      out.write("\t\"htsh2\": {\"name\": \"合同审核\", \"progress\": \"1\",\"index\":\"17\"},\r\n");
      out.write("\t\"slggzh\": {\"name\": \"设立共管账户\", \"progress\": \"1\",\"index\":\"18\"},\r\n");
      out.write("\t\"ggxysh\": {\"name\": \"共管协议审核意见\", \"progress\": \"1\",\"index\":\"19\"},\r\n");
      out.write("\t\"qdggxy\": {\"name\": \"签订共管协议\", \"progress\": \"1\",\"index\":\"20\"},\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\"tdsskf\": {\"name\": \"土地实施开发\", \"progress\": \"2\",\"index\":\"1\"},\r\n");
      out.write("\t\"jsbzdwzb\": {\"name\": \"精算编制单位招标\", \"progress\": \"2\",\"index\":\"2\"},\r\n");
      out.write("\t\"tjjsbg\": {\"name\": \"提交精算报告\", \"progress\": \"2\",\"index\":\"3\"},\r\n");
      out.write("\t\"shjsbg\": {\"name\": \"审核项目精算报告\", \"progress\": \"2\",\"index\":\"4\"},\r\n");
      out.write("\t\"xmss\": {\"name\": \"发起项目实施\", \"progress\": \"2\",\"index\":\"5\"},\r\n");
      out.write("\t\"qdht1\": {\"name\": \"签订合同\", \"progress\": \"2\",\"index\":\"6\"},\r\n");
      out.write("\t\"cbbhtba\": {\"name\": \"成本部合同备案\", \"progress\": \"2\",\"index\":\"7\"},\r\n");
      out.write("\t\"qdht2\": {\"name\": \"签订合同\", \"progress\": \"2\",\"index\":\"8\"},\r\n");
      out.write("\t\"cwbsh\": {\"name\": \"财务部审核\", \"progress\": \"2\",\"index\":\"9\"},\r\n");
      out.write("\t\"cbbshht\": {\"name\": \"成本部审核合同\", \"progress\": \"2\",\"index\":\"10\"},\r\n");
      out.write("\t\"sdwjgd\": {\"name\": \"三调文件归档\", \"progress\": \"2\",\"index\":\"11\"},\r\n");
      out.write("\t\"zfdqpw\": {\"name\": \"政府动迁批文\", \"progress\": \"2\",\"index\":\"12\"},\r\n");
      out.write("\t\"bcfa\": {\"name\": \"补偿方案\", \"progress\": \"2\",\"index\":\"13\"},\r\n");
      out.write("\t\"cbkzbba1\": {\"name\": \"成本控制部备案\", \"progress\": \"2\",\"index\":\"14\"},\r\n");
      out.write("\t\"shfxpg\": {\"name\": \"社会风险评估\", \"progress\": \"2\",\"index\":\"15\"},\r\n");
      out.write("\t\"xhjsbg\": {\"name\": \"细化精算报告\", \"progress\": \"2\",\"index\":\"16\"},\r\n");
      out.write("\t\"jsbgsh\": {\"name\": \"精算报告审核\", \"progress\": \"2\",\"index\":\"17\"},\r\n");
      out.write("\t\"cqgg\": {\"name\": \"政府征地拆迁公告\", \"progress\": \"2\",\"index\":\"18\"},\r\n");
      out.write("\t\"cqgz\": {\"name\": \"开展征地拆迁工作\", \"progress\": \"2\",\"index\":\"19\"},\r\n");
      out.write("\t\"cbkzbba2\": {\"name\": \"成本控制部备案\", \"progress\": \"2\",\"index\":\"20\"},\r\n");
      out.write("\t\"tdzs\": {\"name\": \"土地征收\", \"progress\": \"2\",\"index\":\"21\"},\r\n");
      out.write("\t\"wtjs\": {\"name\": \"委托建设\", \"progress\": \"2\",\"index\":\"22\"},\r\n");
      out.write("\t\"cbsh\": {\"name\": \"成本审核\", \"progress\": \"2\",\"index\":\"23\"},\r\n");
      out.write("\t\"ztyjh\": {\"name\": \"召开专题研究会\", \"progress\": \"2\",\"index\":\"24\"},\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\"xmch\": {\"name\": \"项目策划\", \"progress\": \"3\",\"index\":\"1\"},\r\n");
      out.write("\t\"ghsh\": {\"name\": \"规划审核\", \"progress\": \"3\",\"index\":\"2\"},\r\n");
      out.write("\t\"fasj\": {\"name\": \"方案设计\", \"progress\": \"3\",\"index\":\"3\"},\r\n");
      out.write("\t\"wyhjy\": {\"name\": \"投资决策委员会决议\", \"progress\": \"3\",\"index\":\"4\"},\r\n");
      out.write("\t\"tzfa\": {\"name\": \"调整方案\", \"progress\": \"3\",\"index\":\"5\"},\r\n");
      out.write("\t\"fash1\": {\"name\": \"方案审核\", \"progress\": \"3\",\"index\":\"6\"},\r\n");
      out.write("\t\"sshjc\": {\"name\": \"上三会决策\", \"progress\": \"3\",\"index\":\"7\"},\r\n");
      out.write("\t\"tdlx\": {\"name\": \"项目立项\", \"progress\": \"3\",\"index\":\"8\"},\r\n");
      out.write("\t\"hqtdsyz\": {\"name\": \"获取土地使用证\", \"progress\": \"3\",\"index\":\"9\"},\r\n");
      out.write("\t\"bzkybg\": {\"name\": \"编制可研报告\", \"progress\": \"3\",\"index\":\"10\"},\r\n");
      out.write("\t\"shkybg\": {\"name\": \"审核可研报告\", \"progress\": \"3\",\"index\":\"11\"},\r\n");
      out.write("\t\"lxpf\": {\"name\": \"获取发改委立项批复\", \"progress\": \"3\",\"index\":\"12\"},\r\n");
      out.write("\t\"gszb\": {\"name\": \"专业公司招标\", \"progress\": \"3\",\"index\":\"13\"},\r\n");
      out.write("\t\"fatj\": {\"name\": \"方案提交\", \"progress\": \"3\",\"index\":\"14\"},\r\n");
      out.write("\t\"fash2\": {\"name\": \"方案审核\", \"progress\": \"3\",\"index\":\"15\"},\r\n");
      out.write("\t\"gcxk\": {\"name\": \"获取工程许可\", \"progress\": \"3\",\"index\":\"16\"},\r\n");
      out.write("\t\"gcsg\": {\"name\": \"工程施工\", \"progress\": \"3\",\"index\":\"17\"},\r\n");
      out.write("\t\"gcjs\": {\"name\": \"工程决算\", \"progress\": \"3\",\"index\":\"18\"},\r\n");
      out.write("\t\"gcsj\": {\"name\": \"工程审计报告备案\", \"progress\": \"3\",\"index\":\"19\"},\r\n");
      out.write("\t\"gcyj\": {\"name\": \"工程移交\", \"progress\": \"3\",\"index\":\"20\"}\r\n");
      out.write("};\r\n");
      out.write("function transNodeName(nodeName){\r\n");
      out.write("\tvar info = g_nodeNameList[nodeName];\r\n");
      out.write("\tif (null == info){\r\n");
      out.write("\t\treturn \"未知\";\r\n");
      out.write("\t}\r\n");
      out.write("\treturn info.name;\r\n");
      out.write("}\r\n");
      out.write("function getNodeNameList(progress){\r\n");
      out.write("\tvar ret = [];\r\n");
      out.write("\tfor(var key in g_nodeNameList){\r\n");
      out.write("\t\tvar value = g_nodeNameList[key];\r\n");
      out.write("\t\tif (progress == value.progress){\r\n");
      out.write("\t\t\tret.push(value.name);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\treturn ret;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("jQuery(function($){ \r\n");
      out.write("     $.datepicker.regional['zh-CN'] = {   \r\n");
      out.write("        clearText: '清除',   \r\n");
      out.write("        clearStatus: '清除已选日期',   \r\n");
      out.write("        closeText: '关闭',   \r\n");
      out.write("        closeStatus: '不改变当前选择',   \r\n");
      out.write("        prevText: '<上月',   \r\n");
      out.write("        prevStatus: '显示上月',   \r\n");
      out.write("        prevBigText: '<<',   \r\n");
      out.write("        prevBigStatus: '显示上一年',   \r\n");
      out.write("        nextText: '下月>',   \r\n");
      out.write("        nextStatus: '显示下月',   \r\n");
      out.write("        nextBigText: '>>',   \r\n");
      out.write("        nextBigStatus: '显示下一年',   \r\n");
      out.write("        currentText: '今天',   \r\n");
      out.write("        currentStatus: '显示本月',   \r\n");
      out.write("        monthNames: ['一月','二月','三月','四月','五月','六月', '七月','八月','九月','十月','十一月','十二月'],   \r\n");
      out.write("        monthNamesShort: ['一月','二月','三月','四月','五月','六月', '七月','八月','九月','十月','十一月','十二月'],   \r\n");
      out.write("        monthStatus: '选择月份',   \r\n");
      out.write("        yearStatus: '选择年份',   \r\n");
      out.write("        weekHeader: '周',   \r\n");
      out.write("        weekStatus: '年内周次',   \r\n");
      out.write("        dayNames: ['星期日','星期一','星期二','星期三','星期四','星期五','星期六'],   \r\n");
      out.write("        dayNamesShort: ['周日','周一','周二','周三','周四','周五','周六'],   \r\n");
      out.write("        dayNamesMin: ['日','一','二','三','四','五','六'],   \r\n");
      out.write("        dayStatus: '设置 DD 为一周起始',   \r\n");
      out.write("        dateStatus: '选择 m月 d日, DD',   \r\n");
      out.write("        dateFormat: 'yy-mm-dd',   \r\n");
      out.write("        firstDay: 1,   \r\n");
      out.write("        initStatus: '请选择日期', \r\n");
      out.write("        showMonthAfterYear: true,\r\n");
      out.write("        yearSuffix: '年',\r\n");
      out.write("        isRTL: false\r\n");
      out.write("    };   \r\n");
      out.write("    $.datepicker.setDefaults($.datepicker.regional['zh-CN']);\r\n");
      out.write("    Globalize.culture(\"de-DE\");\r\n");
      out.write("    \r\n");
      out.write("    $.widget( \"ui.timespinner\", $.ui.spinner, {\r\n");
      out.write("        options: {\r\n");
      out.write("          // seconds\r\n");
      out.write("          step: 60 * 1000,\r\n");
      out.write("          // hours\r\n");
      out.write("          page: 60\r\n");
      out.write("        },\r\n");
      out.write("        _parse: function( value ) {\r\n");
      out.write("          if ( typeof value === \"string\" ) {\r\n");
      out.write("            // already a timestamp\r\n");
      out.write("            if ( Number( value ) == value ) {\r\n");
      out.write("              return Number( value );\r\n");
      out.write("            }\r\n");
      out.write("            return +Globalize.parseDate( value );\r\n");
      out.write("          }\r\n");
      out.write("          return value;\r\n");
      out.write("        },\r\n");
      out.write("     \r\n");
      out.write("        _format: function( value ) {\r\n");
      out.write("        \treturn Globalize.format( new Date(value), \"t\" );\r\n");
      out.write("        }\r\n");
      out.write("      });    \r\n");
      out.write("});\r\n");
      out.write("</script>");
      out.write("\r\n");
      out.write("<title>项目周边配套</title>\r\n");
      out.write("\r\n");
      out.write("<style type=\"text/css\">\r\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("    <div id=\"container\" class=\"container\" tabindex=\"0\"></div>\r\n");
      out.write("    <div id=\"lefttop\">\r\n");
      out.write("    \t<div id=\"buttonsDiv\">\r\n");
      out.write("\t    \t<span class=\"button\" id=\"addPoint\" onclick=\"addPoint()\">增加配套点</span>\r\n");
      out.write("\t    \t<span class=\"button\" id=\"addPolygon\" onclick=\"addPolygon()\">增加配套区域</span>\r\n");
      out.write("\t    \t<span class=\"button\" id=\"finishEdit\" style=\"display:none\" onclick=\"finishEdit()\">编辑结束</span>\r\n");
      out.write("    \t</div>\r\n");
      out.write("    \t<div id=\"edittip\" style=\"display:none;color:red;background:blue\"></div>\r\n");
      out.write("    </div>\r\n");
      out.write("</body>\r\n");
      out.write("\r\n");
      out.write("<script language=\"JavaScript\">\r\n");
      out.write("var g_areaPolygon = null;\r\n");
      out.write("var g_curPoint = null;\r\n");
      out.write("var g_curPolygon = null;\r\n");
      out.write("var g_projID = '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${projID}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("';\r\n");
      out.write("var g_curClickedObj = null;\r\n");
      out.write("var g_bSelPoint = false; \r\n");
      out.write("var g_dlgObj = null;\r\n");
      out.write("var g_polygonEditor = null;\r\n");
      out.write("var g_newDrawPolygon = null;\r\n");
      out.write("$(function(){\r\n");
      out.write("\tamapinit({\r\n");
      out.write("\t\ttype:\"2D\",\r\n");
      out.write("\t\tshow:\"depart\",\r\n");
      out.write("\t\tdomIDName:\"container\",\r\n");
      out.write("\t\tclickfun:mapClick,\r\n");
      out.write("\t\tcomplete:mapLoaded\r\n");
      out.write("\t});\r\n");
      out.write("\tinitDlg();\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function initDlg(){\r\n");
      out.write("\tg_dlgObj = new DialogModule();\r\n");
      out.write("\tg_dlgObj.config({\r\n");
      out.write("\t\tid:\"g_dlgObj\",\r\n");
      out.write("\t\ttitle:\"增加周边配套信息\",\r\n");
      out.write("\t\twidth: 440,\r\n");
      out.write("\t\theight: 350,\r\n");
      out.write("\t\tbuttons:[\r\n");
      out.write("\t\t    {\r\n");
      out.write("\t\t    \ttext:\"提 交\",\r\n");
      out.write("\t\t    \tclick:function(){\r\n");
      out.write("\t\t    \t\tcommitFacility();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t    {\r\n");
      out.write("\t\t    \ttext:\"取 消\",\r\n");
      out.write("\t\t    \tclick:function(){\r\n");
      out.write("\t\t    \t\tg_dlgObj.set(\"close\");\r\n");
      out.write("\t\t    \t\tif (null != g_newDrawPolygon){\r\n");
      out.write("\t\t    \t\t\tg_map.remove(g_newDrawPolygon);\r\n");
      out.write("\t\t    \t\t\tg_newDrawPolygon = null;\r\n");
      out.write("\t\t    \t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t]\r\n");
      out.write("\t});\r\n");
      out.write("\tg_dlgObj.render();\r\n");
      out.write("\t\r\n");
      out.write("\tvar dlgForm = $('<form></form>');\r\n");
      out.write("\tdlgForm.append('<input type=\"hidden\" name=\"op\" value=\"add\"/>');\r\n");
      out.write("\tdlgForm.append('<input type=\"hidden\" name=\"id\"/>');\r\n");
      out.write("\tdlgForm.append('<input type=\"hidden\" name=\"projID\"/>');\r\n");
      out.write("\tdlgForm.append('<input type=\"hidden\" name=\"locType\"/>');\r\n");
      out.write("\tdlgForm.append('<input type=\"hidden\" name=\"lng\"/>');\r\n");
      out.write("\tdlgForm.append('<input type=\"hidden\" name=\"lat\"/>');\r\n");
      out.write("\tdlgForm.append('<input type=\"hidden\" name=\"addr\"/>');\r\n");
      out.write("\tdlgForm.append('<input type=\"hidden\" name=\"polygon\"/>');\r\n");
      out.write("\tdlgForm.append('<input type=\"hidden\" name=\"category\" value=\"A3\"/>');\r\n");
      out.write("\t\r\n");
      out.write("\tvar labelWidth = 80;\r\n");
      out.write("\tvar inputWidth = 240;\r\n");
      out.write("\tvar $divLine = $('<div class=\"line\"></div>');\r\n");
      out.write("\tvar labelInput = new LabelinputModule();\r\n");
      out.write("\tlabelInput.config({\"label\":\"配套名称\",\"labelWidth\": labelWidth,\r\n");
      out.write("\t\t\"inputWidth\":inputWidth,\r\n");
      out.write("\t\t\"class\":\"noempty maxlen\",\r\n");
      out.write("\t\t\"attr\":{\"showname\":\"配套名称\",\"maxlen\":60},\r\n");
      out.write("\t\t\"name\":\"name\"}).render($divLine);\r\n");
      out.write("\tdlgForm.append($divLine);\r\n");
      out.write("\r\n");
      out.write("\t$divLine = $('<div class=\"line\"></div>');\r\n");
      out.write("\tlabelInput = new LabelinputModule();\r\n");
      out.write("\tlabelInput.config({\"label\":\"配套类型\",\"labelWidth\": labelWidth,\r\n");
      out.write("\t\t\"inputWidth\":inputWidth,\r\n");
      out.write("\t\t\"type\":\"select\",\r\n");
      out.write("\t\t\"display\":g_largeType,\r\n");
      out.write("\t\t\"value\":g_largeType,\r\n");
      out.write("\t\tonchange: selLargeType,\r\n");
      out.write("\t\t\"class\":\"noempty\",\r\n");
      out.write("\t\t\"name\":\"largetype\"}).render($divLine);\r\n");
      out.write("\tlabelInput.mydom.find('input').attr('readonly','readonly');\r\n");
      out.write("\tdlgForm.append($divLine);\r\n");
      out.write("\r\n");
      out.write("\t$divLine = $('<div class=\"line\"></div>');\r\n");
      out.write("\tlabelInput = new LabelinputModule();\r\n");
      out.write("\tlabelInput.config({\"label\":\"所属类别\",\"labelWidth\": labelWidth,\r\n");
      out.write("\t\t\"inputWidth\":inputWidth,\r\n");
      out.write("\t\t\"type\":\"select\",\r\n");
      out.write("\t\t\"display\":g_unitType[0],\r\n");
      out.write("\t\t\"value\":g_unitType[0],\r\n");
      out.write("\t\tonchange: selUnitType,\r\n");
      out.write("\t\t\"class\":\"noempty\",\r\n");
      out.write("\t\t\"name\":\"type\"}).render($divLine);\r\n");
      out.write("\tlabelInput.mydom.find('input').attr('readonly','readonly');\r\n");
      out.write("\tdlgForm.append($divLine);\r\n");
      out.write("\t\r\n");
      out.write("\t$divLine = $('<div class=\"line\"></div>');\r\n");
      out.write("\tlabelInput = new LabelinputModule();\r\n");
      out.write("\tlabelInput.config({\"label\":\"规模\",\"labelWidth\": labelWidth,\r\n");
      out.write("\t\t\"inputWidth\":inputWidth,\r\n");
      out.write("\t\t\"class\":\"maxlen\",\r\n");
      out.write("\t\t\"attr\":{\"showname\":\"规模\",\"maxlen\":60},\r\n");
      out.write("\t\t\"name\":\"scale\"}).render($divLine);\r\n");
      out.write("\tdlgForm.append($divLine);\r\n");
      out.write("\r\n");
      out.write("\t$divLine = $('<div class=\"line\"></div>');\r\n");
      out.write("\tlabelInput = new LabelinputModule();\r\n");
      out.write("\tlabelInput.config({\"label\":\"提交日期\",\"labelWidth\": labelWidth,\r\n");
      out.write("\t\t\"inputWidth\":inputWidth,\r\n");
      out.write("\t\t\"class\":\"noempty datepicker\",\r\n");
      out.write("\t\t\"attr\":{\"showname\":\"提交日期\"},\r\n");
      out.write("\t\t\"name\":\"create\"}).render($divLine);\r\n");
      out.write("\tlabelInput.mydom.find('input').attr('readonly','readonly');\r\n");
      out.write("\tdlgForm.append($divLine);\r\n");
      out.write("\r\n");
      out.write("\t$divLine = $('<div class=\"line\"></div>');\r\n");
      out.write("\tlabelInput = new LabelinputModule();\r\n");
      out.write("\tlabelInput.config({\"label\":\"描述\",\"labelWidth\": labelWidth,\r\n");
      out.write("\t\t\"inputWidth\":inputWidth,\r\n");
      out.write("\t\t\"class\":\"maxlen\",\r\n");
      out.write("\t\t\"attr\":{\"showname\":\"描述\",\"maxlen\":100},\r\n");
      out.write("\t\t\"name\":\"remark\"}).render($divLine);\r\n");
      out.write("\tdlgForm.append($divLine);\r\n");
      out.write("\t\r\n");
      out.write("\tg_dlgObj.set(\"append\",dlgForm);\t\r\n");
      out.write("\t\r\n");
      out.write("\tinit.initInput();\r\n");
      out.write("}\r\n");
      out.write("function selLargeType(){\r\n");
      out.write("\tvar val = g_dlgObj.mydom.find('select[name=largetype]').val();\r\n");
      out.write("\tvar index = -1;\r\n");
      out.write("\tvar selType = g_dlgObj.mydom.find('select[name=type]');\r\n");
      out.write("\tselType.html('');\r\n");
      out.write("\tfor(var i=0;i<g_largeType.length;i++){\r\n");
      out.write("\t\tif (g_largeType[i] == val){\r\n");
      out.write("\t\t\tindex = i;\r\n");
      out.write("\t\t\tbreak;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tif (index >= 0){\r\n");
      out.write("\t\tfor(var i=0;i<g_unitType[index].length;i++){\r\n");
      out.write("\t\t\tselType.append('<option value=\"'+g_unitType[index][i]+'\">'+g_unitType[index][i]+'</option>');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("function selUnitType(){\r\n");
      out.write("\tvar val = g_dlgObj.mydom.find('select[name=largetype]').val();\r\n");
      out.write("\tvar index = -1;\r\n");
      out.write("\tfor(var i=0;i<g_largeType.length;i++){\r\n");
      out.write("\t\tif (g_largeType[i] == val){\r\n");
      out.write("\t\t\tindex = i;\r\n");
      out.write("\t\t\tbreak;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tvar category = \"\";\r\n");
      out.write("\tif (index >= 0){\r\n");
      out.write("\t\tval = g_dlgObj.mydom.find('select[name=type]').val();\r\n");
      out.write("\t\tfor(var i=0;i<g_unitType[index].length;i++){\r\n");
      out.write("\t\t\tif (g_unitType[index][i] == val){\r\n");
      out.write("\t\t\t\tcategory = g_unitCategory[index][i];\r\n");
      out.write("\t\t\t\tbreak;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=category]').val(category);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function mapLoaded(){\r\n");
      out.write("\tAMap.plugin(\"AMap.PolyEditor\");\r\n");
      out.write("\t\r\n");
      out.write("\tif (null != g_projID && g_projID.length > 0){\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getLocation',\r\n");
      out.write("\t\t\tdataType : 'json',\r\n");
      out.write("\t\t\tdata: {'objtype':'area','objid':g_projID},\r\n");
      out.write("\t\t\ttimeout : 10000,\r\n");
      out.write("\t\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\t\tif (null != msg.data){\r\n");
      out.write("\t\t\t\t\t\tif (msg.data.iLocType==2){\r\n");
      out.write("\t\t\t\t\t\t\tvar pts = eval('('+msg.data.cPolygon+')');\r\n");
      out.write("\t\t\t\t\t\t\tg_areaPolygon = new AMap.Polygon({\r\n");
      out.write("\t\t\t\t\t\t        path: pts,\t\t\t//设置多边形边界路径\r\n");
      out.write("\t\t\t\t\t\t        strokeColor: '#F00', //线颜色\r\n");
      out.write("\t\t\t\t\t\t        strokeOpacity: 0.3, \t//线透明度\r\n");
      out.write("\t\t\t\t\t\t        strokeWeight: 2,    //线宽\r\n");
      out.write("\t\t\t\t\t\t        fillColor: '#F00', \t//填充色\r\n");
      out.write("\t\t\t\t\t\t        fillOpacity: 0.1,\t//填充透明度\r\n");
      out.write("\t\t\t\t\t\t        bubble: true\r\n");
      out.write("\t\t\t\t\t\t    });\r\n");
      out.write("\t\t\t\t\t\t\tg_areaPolygon.setMap(g_map);\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\treadAlready();\r\n");
      out.write("\t\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\t\tnoArea();\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\tnoArea();\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror: function(){\r\n");
      out.write("\t\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\t\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tshowError('参数错误！');\r\n");
      out.write("\t\t$('#buttonsDiv').hide();\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function noArea(){\r\n");
      out.write("\tshowError(\"所属项目还没有设置区域，请先设置项目区域\");\r\n");
      out.write("\t$('#buttonsDiv').hide();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function readAlready(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=getFacility',\r\n");
      out.write("\t\tdataType : 'json',\r\n");
      out.write("\t\tdata: {'projid':g_projID},\r\n");
      out.write("\t\ttimeout : 10000,\r\n");
      out.write("\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\tif (null != msg.rows){\r\n");
      out.write("\t\t\t\t\tfor(var i=0;i<msg.rows.length;i++){\r\n");
      out.write("\t\t\t\t\t\tvar info = msg.rows[i];\r\n");
      out.write("\t\t\t\t\t\tif (info.iLocType == 2){\r\n");
      out.write("\t\t\t\t\t\t\taddShowPolygon(info);\r\n");
      out.write("\t\t\t\t\t\t}else if (info.iLocType == 1){\r\n");
      out.write("\t\t\t\t\t\t\taddShowMarker(info);\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tg_map.setFitView();\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror: function(){\r\n");
      out.write("\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\r\n");
      out.write("}\r\n");
      out.write("//在地图上增加显示多边形信息\r\n");
      out.write("function addShowPolygon(info){\r\n");
      out.write("\tvar pts = eval('('+info.cPolygon+')');\r\n");
      out.write("\tvar colorIndex = 0;\r\n");
      out.write("\tfor(var i=0;i<typeColors.length;i++){\r\n");
      out.write("\t\tif (typeColors[i].type == info.cCategory){\r\n");
      out.write("\t\t\tcolorIndex = typeColors[i].colorno;\r\n");
      out.write("\t\t\tbreak;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tvar color = getIndexColor(colorIndex);\r\n");
      out.write("\tvar polygon = new AMap.Polygon({\r\n");
      out.write("        path: pts,\t\t\t//设置多边形边界路径\r\n");
      out.write("        strokeColor: color, //线颜色\r\n");
      out.write("        strokeOpacity: 0.6, \t//线透明度\r\n");
      out.write("        strokeWeight: 2,    \t//线宽\r\n");
      out.write("        fillColor: color, \t//填充色\r\n");
      out.write("        fillOpacity: 1,\t\t//填充透明度\r\n");
      out.write("        bubble: true,\r\n");
      out.write("\t\textData: info\r\n");
      out.write("    });\r\n");
      out.write("\tpolygon.setMap(g_map);\r\n");
      out.write("\t\r\n");
      out.write("\tpolygon.on('click',function(e){\r\n");
      out.write("\t\tif (null != g_polygonEditor){\r\n");
      out.write("\t\t\tshowError(\"当前正在修改多边形！\");\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tvar data = this.getExtData();\r\n");
      out.write("\t\tvar html=[];\r\n");
      out.write("\t\thtml.push('<div class=\"infowindow\">');\r\n");
      out.write("\t\thtml.push('<div class=\"infotitle\">'+data.cName+'</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">配套类型：'+ data.cLargeType + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">所属类别：'+ data.cType + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">规模：'+ data.cScale + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">提交时间：'+ data.dtCreate + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">说明：'+ data.cRemark + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"edit\">');\r\n");
      out.write("\t\thtml.push('<span class=\"button infobutton\" onclick=\"chgContent()\">修改内容</span>');\r\n");
      out.write("\t\thtml.push('<span class=\"button infobutton\" onclick=\"editPolygon()\">编辑范围</span>');\r\n");
      out.write("\t\thtml.push('<span class=\"button infobutton\" onclick=\"delFacility()\">删除配套</span>');\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\tshowInfoWindow(e.lnglat,html.join(''),new AMap.Pixel(0,0));\r\n");
      out.write("\t\tg_curClickedObj = this;\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("//在地图增加显示点信息\r\n");
      out.write("function addShowMarker(info){\r\n");
      out.write("\tvar ptMarker = new AMap.Marker({\r\n");
      out.write("\t\tposition: [info.fLng,info.fLat],\r\n");
      out.write("\t\ttitle: info.cName,\r\n");
      out.write("\t\ticon: \"images/circle-blue-16.png\",\r\n");
      out.write("\t\toffset: new AMap.Pixel(-8,-8),\r\n");
      out.write("\t\textData: info\r\n");
      out.write("\t});\r\n");
      out.write("\tptMarker.setTop(true);\r\n");
      out.write("\tptMarker.setMap(g_map);\r\n");
      out.write("\t\r\n");
      out.write("\tptMarker.on('click',function(){\r\n");
      out.write("\t\tif (null != g_polygonEditor){\r\n");
      out.write("\t\t\tshowError(\"当前正在修改多边形！\");\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tvar data = this.getExtData();\r\n");
      out.write("\t\tvar curPt = this.getPosition();\r\n");
      out.write("\t\tvar html=[];\r\n");
      out.write("\t\thtml.push('<div class=\"infowindow\">');\r\n");
      out.write("\t\thtml.push('<div class=\"infotitle\">'+data.cName+'</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">配套类型：'+ data.cLargeType + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">所属类别：'+ data.cType + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">规模：'+ data.cScale + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">提交时间：'+ data.dtCreate + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">地址：'+ data.cAddr + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">坐标：');\r\n");
      out.write("\t\thtml.push(curPt.getLng()+' , '+curPt.getLat());\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"infoline\">说明：'+ data.cRemark + '</div>');\r\n");
      out.write("\t\thtml.push('<div class=\"edit\">');\r\n");
      out.write("\t\thtml.push('<span class=\"button infobutton\" onclick=\"chgContent()\">修改内容</span>');\r\n");
      out.write("\t\thtml.push('<span class=\"button infobutton\" onclick=\"movePoint()\">移动位置</span>');\r\n");
      out.write("\t\thtml.push('<span class=\"button infobutton\" onclick=\"delFacility()\">删除配套</span>');\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\thtml.push('</div>');\r\n");
      out.write("\t\tshowInfoWindow(curPt,html.join(''),new AMap.Pixel(0,-8));\r\n");
      out.write("\t\tg_curClickedObj = this;\r\n");
      out.write("\t});\t\r\n");
      out.write("}\r\n");
      out.write("//信息基本信息\r\n");
      out.write("function chgContent(){\r\n");
      out.write("\tcloseInfoWindow();\r\n");
      out.write("\tif (null == g_curClickedObj)\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\tvar info = g_curClickedObj.getExtData();\r\n");
      out.write("\tvar form = g_dlgObj.mydom.find('form');\r\n");
      out.write("\tform[0].reset();\r\n");
      out.write("\tform.find('input[name=op]').val('chg');\r\n");
      out.write("\tform.find('input[name=id]').val(info.iID);\r\n");
      out.write("\tform.find('input[name=projID]').val(g_projID);\r\n");
      out.write("\tform.find('input[name=locType]').val(info.iLocType);\r\n");
      out.write("\tform.find('input[name=name]').val(info.cName);\r\n");
      out.write("\tform.find('select[name=largetype]').val(info.cLargeType);\r\n");
      out.write("\tselLargeType();\r\n");
      out.write("\tform.find('select[name=type]').val(info.cType);\r\n");
      out.write("\tform.find('input[name=category]').val(info.cCategory);\r\n");
      out.write("\tform.find('input[name=scale]').val(info.cScale);\r\n");
      out.write("\tform.find('input[name=create]').val(info.dtCreate);\r\n");
      out.write("\tform.find('input[name=remark]').val(info.cRemark);\r\n");
      out.write("\tg_dlgObj.set('title','修改周边配套信息');\r\n");
      out.write("\tg_dlgObj.set(\"open\");\r\n");
      out.write("}\r\n");
      out.write("//移动点位置\r\n");
      out.write("function movePoint(){\r\n");
      out.write("\tcloseInfoWindow();\r\n");
      out.write("\tg_bSelPoint = true;\r\n");
      out.write("\t$('#edittip').html(\"请在地图上选择新的位置\");\r\n");
      out.write("\t$('#edittip').show();\r\n");
      out.write("\t$('#buttonsDiv').hide();\r\n");
      out.write("}\r\n");
      out.write("//删除周边配套信息\r\n");
      out.write("function delFacility(){\r\n");
      out.write("\tcloseInfoWindow();\r\n");
      out.write("\tif(null == g_curClickedObj)\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\tshowConfirm('确定删除选择的周边配套信息吗？',function(sure,id){\r\n");
      out.write("\t\tif (!sure)\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=delFacility',\r\n");
      out.write("\t\t\tdataType : 'json',\r\n");
      out.write("\t\t\tdata: {'id':id},\r\n");
      out.write("\t\t\ttimeout : 10000,\r\n");
      out.write("\t\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\t\tshowMessage(\"删除周边配套成功\");\r\n");
      out.write("\t\t\t\t\tg_map.remove(g_curClickedObj);\r\n");
      out.write("\t\t\t\t\tg_curClickedObj = null;\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror: function(){\r\n");
      out.write("\t\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\t\r\n");
      out.write("\t},g_curClickedObj.getExtData().iID);\r\n");
      out.write("}\r\n");
      out.write("//开始多边形编辑\r\n");
      out.write("function editPolygon(){\r\n");
      out.write("\tcloseInfoWindow();\r\n");
      out.write("\tg_bSelPoint = false;\r\n");
      out.write("\tif(null == g_curClickedObj)\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\tg_polygonEditor= new AMap.PolyEditor(g_map, g_curClickedObj);\r\n");
      out.write("\tg_polygonEditor.open();\r\n");
      out.write("\t$('#finishEdit').show();\r\n");
      out.write("\t$('#addPoint').hide();\r\n");
      out.write("\t$('#addPolygon').hide();\r\n");
      out.write("}\r\n");
      out.write("//多边形编辑结束\r\n");
      out.write("function finishEdit(){\r\n");
      out.write("\t//提交修改的多边形信息\r\n");
      out.write("\tcommitEditPolygon();\r\n");
      out.write("}\r\n");
      out.write("function commitEditPolygon(){\r\n");
      out.write("\tif(null == g_curClickedObj)\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\tvar info = g_curClickedObj.getExtData();\r\n");
      out.write("\tvar data={};\r\n");
      out.write("\tdata.id=info.iID;\r\n");
      out.write("\tdata.op=\"chg\";\r\n");
      out.write("\tdata.locType = 2;\r\n");
      out.write("\tdata.polygon = getPolygonPtList(g_curClickedObj);\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=editFacility',\r\n");
      out.write("\t\tdataType : 'json',\r\n");
      out.write("\t\tdata: data,\r\n");
      out.write("\t\ttimeout : 10000,\r\n");
      out.write("\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\tshowMessage(\"提交修改多边形区域成功\");\r\n");
      out.write("\t\t\t\tg_polygonEditor.close();\r\n");
      out.write("\t\t\t\tg_polygonEditor = null;\r\n");
      out.write("\t\t\t\t$('#finishEdit').hide();\r\n");
      out.write("\t\t\t\t$('#addPoint').show();\r\n");
      out.write("\t\t\t\t$('#addPolygon').show();\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror: function(){\r\n");
      out.write("\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//增加新的位置\r\n");
      out.write("function addPointInfo(point,formatAddr){\r\n");
      out.write("\tg_dlgObj.mydom.find('form')[0].reset();\r\n");
      out.write("\tg_dlgObj.set('title','增加周边配套信息');\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=op]').val('add');\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=id]').val('');\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=projID]').val(g_projID);\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=locType]').val(1);\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=lng]').val(point[0]);\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=lat]').val(point[1]);\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=addr]').val(formatAddr);\r\n");
      out.write("\tg_dlgObj.set(\"open\");\r\n");
      out.write("}\r\n");
      out.write("//增加新的范围\r\n");
      out.write("function addPolygonInfo(polygon){\r\n");
      out.write("\tg_dlgObj.mydom.find('form')[0].reset();\r\n");
      out.write("\tg_dlgObj.set('title','增加周边配套信息');\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=op]').val('add');\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=id]').val('');\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=projID]').val(g_projID);\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=locType]').val(2);\r\n");
      out.write("\tvar polygonStr=getPolygonPtList(polygon);\r\n");
      out.write("\tg_dlgObj.mydom.find('input[name=polygon]').val(polygonStr);\r\n");
      out.write("\tg_dlgObj.set(\"open\");\r\n");
      out.write("\t\r\n");
      out.write("\tg_newDrawPolygon = polygon;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addPoint(){\r\n");
      out.write("\tg_bSelPoint = true;\r\n");
      out.write("\tg_curClickedObj = null;\r\n");
      out.write("\t$('#edittip').html(\"请在地图上点击来增加配套信息\");\r\n");
      out.write("\t$('#edittip').show();\r\n");
      out.write("\t$('#buttonsDiv').hide();\r\n");
      out.write("}\r\n");
      out.write("//地图上点击，增加配套点信息\r\n");
      out.write("function mapClick(pt,formatAddr){\r\n");
      out.write("\tif (true != g_bSelPoint)\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t$('#edittip').hide();\r\n");
      out.write("\t$('#buttonsDiv').show();\r\n");
      out.write("\t\r\n");
      out.write("\tg_bSelPoint = false;\r\n");
      out.write("\tvar info = null;\r\n");
      out.write("\tif (null != g_curClickedObj){\r\n");
      out.write("\t\tinfo = g_curClickedObj.getExtData();\r\n");
      out.write("\t\tif (info.iLocType == 1){\r\n");
      out.write("\t\t\t//提交后台修改点位置信息\r\n");
      out.write("\t\t\tvar data={};\r\n");
      out.write("\t\t\tdata.id=info.iID;\r\n");
      out.write("\t\t\tdata.op=\"chg\";\r\n");
      out.write("\t\t\tdata.locType = 1;\r\n");
      out.write("\t\t\tdata.lng = pt[0];\r\n");
      out.write("\t\t\tdata.lat = pt[1];\r\n");
      out.write("\t\t\tdata.addr = formatAddr;\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=editFacility',\r\n");
      out.write("\t\t\t\tdataType : 'json',\r\n");
      out.write("\t\t\t\tdata: data,\r\n");
      out.write("\t\t\t\ttimeout : 10000,\r\n");
      out.write("\t\t\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\t\t\tshowMessage(\"提交修改位置成功\");\r\n");
      out.write("\t\t\t\t\t\tg_map.remove(g_curClickedObj);\r\n");
      out.write("\t\t\t\t\t\tg_curClickedObj = null;\r\n");
      out.write("\t\t\t\t\t\tvar infoT = msg.info;\r\n");
      out.write("\t\t\t\t\t\taddShowMarker(infoT);\r\n");
      out.write("\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror: function(){\r\n");
      out.write("\t\t\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\t\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tinfo = null;\t\t\t\r\n");
      out.write("\t\t\tg_curClickedObj = null;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\tif (null == info){\r\n");
      out.write("\t\taddPointInfo(pt,formatAddr);\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addPolygon(){\r\n");
      out.write("\tg_bSelPoint = false;\r\n");
      out.write("\tg_curClickedObj = null;\r\n");
      out.write("\tstartDraw(\"polygon\",drawOver);\r\n");
      out.write("\t$('#edittip').html(\"请在地图上用鼠标画出多边形区域，双击或右击结束\");\r\n");
      out.write("\t$('#edittip').show();\r\n");
      out.write("\t$('#buttonsDiv').hide();\r\n");
      out.write("}\r\n");
      out.write("function drawOver(polygon){\r\n");
      out.write("\tg_bSelPoint = false;\r\n");
      out.write("\t$('#edittip').hide();\r\n");
      out.write("\t$('#buttonsDiv').show();\r\n");
      out.write("\taddPolygonInfo(polygon);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function commitFacility(){\r\n");
      out.write("\tif (!checkForm($('#g_dlgObj form')))\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\tvar data = $('#g_dlgObj form').serialize();\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\ttype : \"post\",\r\n");
      out.write("\t\turl : '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${urlhead}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/ajax.html?ajax=editFacility',\r\n");
      out.write("\t\tdataType : 'json',\r\n");
      out.write("\t\tdata: data,\r\n");
      out.write("\t\ttimeout : 10000,\r\n");
      out.write("\t\tsuccess : function(msg, status) {\r\n");
      out.write("\t\t\tif (msg.status == 200) {\r\n");
      out.write("\t\t\t\tshowMessage(\"周边配套提交成功\");\r\n");
      out.write("\t\t\t\tvar info = msg.info;\r\n");
      out.write("\t\t\t\tif ('add' == g_dlgObj.mydom.find('input[name=op]').val()){\r\n");
      out.write("\t\t\t\t\tif (info.iLocType == 2){\r\n");
      out.write("\t\t\t\t\t\taddShowPolygon(info);\r\n");
      out.write("\t\t\t\t\t}else if (info.iLocType == 1){\r\n");
      out.write("\t\t\t\t\t\taddShowMarker(info);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}else if (null != g_curClickedObj){\r\n");
      out.write("\t\t\t\t\tg_curClickedObj.setExtData(info);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t    \t\tg_dlgObj.set(\"close\");\r\n");
      out.write("\t    \t\tif (null != g_newDrawPolygon){\r\n");
      out.write("\t    \t\t\tg_map.remove(g_newDrawPolygon);\r\n");
      out.write("\t    \t\t\tg_newDrawPolygon = null;\r\n");
      out.write("\t    \t\t}\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tshowError(msg.msg);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror: function(){\r\n");
      out.write("\t\t\tshowError('网络访问失败！');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\t\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_c_005fset_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f0 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    boolean _jspx_th_c_005fset_005f0_reused = false;
    try {
      _jspx_th_c_005fset_005f0.setPageContext(_jspx_page_context);
      _jspx_th_c_005fset_005f0.setParent(null);
      // /backglobal.jsp(6,0) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f0.setVar("urlhead");
      // /backglobal.jsp(6,0) name = value type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_c_005fset_005f0.setValue((java.lang.Object) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.Object.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      int _jspx_eval_c_005fset_005f0 = _jspx_th_c_005fset_005f0.doStartTag();
      if (_jspx_th_c_005fset_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.reuse(_jspx_th_c_005fset_005f0);
      _jspx_th_c_005fset_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fset_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fset_005f0_reused);
    }
    return false;
  }
}
